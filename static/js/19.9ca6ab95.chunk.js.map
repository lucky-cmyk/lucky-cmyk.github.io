{"version":3,"sources":["api/area.js","pages/AreaConfig/components/ListTable.js","pages/AreaConfig/components/CreateArea.js","pages/AreaConfig/components/UpdateArea.js","pages/AreaConfig/index.js","../node_modules/antd/es/popconfirm/style/index.js","../node_modules/antd/es/popover/style/index.js","../node_modules/antd/es/popconfirm/index.js","../node_modules/antd/es/_util/getRenderPropValue.js"],"names":["area_get","params","axios","get","area_add","jpost","area_update","put","area_delete","delete","ListTable","props","ref","useImperativeHandle","getData","newVal","area_get_handle","update_h","pageSize","total","showTotal","useState","loading","setLoading","data","setData","current","showSizeChanger","pagination","setPagination","delete_h","id","a","message","success","console","error","columns","title","dataIndex","key","align","width","render","text","record","index","type","onClick","onConfirm","okText","cancelText","href","page","page_size","count","useEffect","bordered","dataSource","rowKey","onChange","forwardRef","Index","Option","TextArea","onCancel","visible","onOk","useForm","form","submit","validateFields","then","getFieldsValue","e","afterClose","resetFields","labelCol","span","wrapperCol","name","hideRequiredMark","Item","label","rules","required","placeholder","memo","info","setFieldsValue","create_visible","set_create_visible","update_visible","set_update_visible","set_info","childRef","useRef","Page","route","dashed","CreateArea","UpdateArea","_this","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Popconfirm","React","getPrefixCls","ConfigContext","_useMergedState","useMergedState","value","defaultValue","defaultVisible","_useMergedState2","_slicedToArray","setVisible","settingVisible","_a","onVisibleChange","close","customizePrefixCls","prefixCls","placement","children","overlayClassName","restProps","prefixClsConfirm","overlayClassNames","classNames","overlay","LocaleReceiver","componentName","defaultLocale","popconfirmLocale","okButtonProps","cancelButtonProps","okType","icon","className","concat","getRenderPropValue","Button","_extends","size","ActionButton","buttonProps","convertLegacyProps","actionFn","quitOnNullishReturnValue","emitEvent","renderOverlay","rootPrefixCls","Tooltip","disabled","transitionName","getTransitionName","cloneElement","onKeyDown","_b","keyCode","KeyCode","ESC","_onKeyDown","defaultProps","trigger","ExclamationCircleFilled","propValue"],"mappings":"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","file":"static/js/19.9ca6ab95.chunk.js","sourcesContent":["import axios from \"utils/http\";\r\n\r\n//获取区域列表\r\nexport const area_get = (params) => {\r\n  return axios.get(`/regions`, params);\r\n};\r\n//新增区域\r\nexport const area_add = (params) => {\r\n  return axios.jpost(`/regions`, params);\r\n};\r\n\r\n//修改区域\r\nexport const area_update = (params) => {\r\n  return axios.put(`/regions`, params);\r\n};\r\n\r\n//删除区域\r\nexport const area_delete = (params) => {\r\n  return axios.delete(`/regions/${params}`);\r\n};\r\n","import { Table, Button, Popconfirm, message } from \"antd\";\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport dayjs from \"dayjs\";\r\nimport { area_delete, area_get } from \"../../../api/area\";\r\n// import mock from ''\r\nconst ListTable = (props, ref) => {\r\n  useImperativeHandle(ref, () => ({\r\n    // changeVal 就是暴露给父组件的方法\r\n    getData: (newVal) => {\r\n      area_get_handle(newVal);\r\n    },\r\n  }));\r\n  const { update_h, pageSize = 10, total = 0, showTotal = true } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: pageSize || 10,\r\n    total: total || 0,\r\n    showSizeChanger: true,\r\n  });\r\n  //删除地区\r\n  const delete_h = async (id) => {\r\n    try {\r\n      await area_delete(id);\r\n      message.success(\"删除成功\");\r\n      area_get_handle();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const columns = [\r\n    { title: \"ID\", dataIndex: \"id\", key: \"id\" },\r\n    { title: \"appid\", dataIndex: \"appid\" },\r\n    { title: \"region\", dataIndex: \"region\" },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: \"operation\",\r\n      align: \"center\",\r\n      width: 200,\r\n      render: (text, record, index) => {\r\n        return (\r\n          <span>\r\n            <Button type=\"link\" onClick={() => update_h(record)}>\r\n              编辑\r\n            </Button>\r\n            <Popconfirm\r\n              title=\"确定删除这个地区?\"\r\n              onConfirm={() => delete_h(record.id)}\r\n              okText=\"确定\"\r\n              cancelText=\"取消\"\r\n            >\r\n              <a href=\"#\">删除</a>\r\n            </Popconfirm>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  //获取列表\r\n  const area_get_handle = async (params = {}) => {\r\n    try {\r\n      setLoading(true);\r\n      let data = await area_get({\r\n        page: pagination.current,\r\n        page_size: pagination.pageSize,\r\n        ...params,\r\n      });\r\n      setData(data.data);\r\n        setPagination({\r\n        ...pagination,\r\n        total: data.page.count,\r\n      });\r\n      // console.log(pagination);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setLoading(false);\r\n      console.error(e);\r\n    }\r\n  };\r\n  //表格改变触发\r\n  const onchange = (pagination) => {\r\n    // console.log(pagination)\r\n    setPagination({ ...pagination });\r\n  };\r\n  useEffect(() => {\r\n    area_get_handle();\r\n  }, [pagination.current, pagination.pageSize]);\r\n  return (\r\n    <>\r\n      <Table\r\n        bordered\r\n        loading={loading}\r\n        columns={columns}\r\n        dataSource={data}\r\n        rowKey=\"id\"\r\n        pagination={pagination}\r\n        onChange={onchange}\r\n      ></Table>\r\n    </>\r\n  );\r\n};\r\nexport default forwardRef(ListTable);\r\n","import React, { memo, useState, useEffect } from \"react\";\r\nimport {\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Button,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  message,\r\n  InputNumber,\r\n} from \"antd\";\r\nimport { Tree } from \"antd\";\r\nimport { area_add } from \"../../../api/area\";\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst Index = (props) => {\r\n  const { onCancel, visible, onOk } = props;\r\n  const [form] = Form.useForm();\r\n  //提交\r\n  const submit = async () => {\r\n    // console.log(form.getFieldsValue());\r\n    try {\r\n      form.validateFields().then(async () => {\r\n        await area_add({\r\n          ...form.getFieldsValue(),\r\n        });\r\n        message.success(\"创建成功\");\r\n        onOk();\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  const FormConfig = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 18 },\r\n  };\r\n\r\n  const on_cancel = () => {\r\n    onCancel();\r\n  };\r\n  const reset_h=()=>{\r\n    form.resetFields();\r\n  }\r\n  return (\r\n    <Modal\r\n      title=\"添加地区\"\r\n      visible={visible}\r\n      onCancel={on_cancel}\r\n      onOk={submit}\r\n      afterClose={reset_h}\r\n      cancelText=\"返回\"\r\n      okText=\"确定\"\r\n    >\r\n      <Form\r\n        {...FormConfig}\r\n        form={form}\r\n        name=\"form_in_modal\"\r\n        hideRequiredMark={true}\r\n      >\r\n        <Form.Item\r\n          label=\"APPID\"\r\n          name=\"appid\"\r\n          rules={[{ required: true, message: \"请输入APPID\" }]}\r\n        >\r\n          <InputNumber placeholder=\"请输入APPID\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Region\"\r\n          name=\"region\"\r\n          rules={[{ required: true, message: \"请输入Region\" }]}\r\n        >\r\n          <Input placeholder=\"请输入Region\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\nexport default memo(Index);\r\n","import React, { memo, useState, useEffect } from \"react\";\r\nimport {\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Button,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  message,\r\n  InputNumber,\r\n} from \"antd\";\r\nimport { Tree } from \"antd\";\r\nimport { area_update } from \"../../../api/area\";\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst Index = (props) => {\r\n  const { onCancel, visible, onOk, info } = props;\r\n  const [form] = Form.useForm();\r\n  //提交\r\n  const submit = async () => {\r\n    // console.log(form.getFieldsValue());\r\n    try {\r\n      form.validateFields().then(async () => {\r\n        await area_update({\r\n          ...form.getFieldsValue(),\r\n          id: info.id,\r\n        });\r\n        message.success(\"修改成功\");\r\n        onOk();\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  const FormConfig = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 18 },\r\n  };\r\n\r\n  const on_cancel = () => {\r\n    onCancel();\r\n  };\r\n  useEffect(() => {\r\n    if (visible) {\r\n      form.setFieldsValue({\r\n        ...info,\r\n      });\r\n    }\r\n  }, [visible]);\r\n  const reset_h = () => {\r\n    // console.log(2324)\r\n    form.resetFields();\r\n  };\r\n  return (\r\n    <Modal\r\n      title=\"编辑地区\"\r\n      visible={visible}\r\n      onCancel={on_cancel}\r\n      onOk={submit}\r\n      afterClose={reset_h}\r\n      cancelText=\"返回\"\r\n      okText=\"确定\"\r\n    >\r\n      <Form\r\n        {...FormConfig}\r\n        form={form}\r\n        name=\"form_in_modal\"\r\n        hideRequiredMark={true}\r\n      >\r\n        <Form.Item\r\n          label=\"APPID\"\r\n          name=\"appid\"\r\n          rules={[{ required: true, message: \"请输入APPID\" }]}\r\n        >\r\n          <InputNumber placeholder=\"请输入APPID\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Region\"\r\n          name=\"region\"\r\n          rules={[{ required: true, message: \"请输入Region\" }]}\r\n        >\r\n          <Input placeholder=\"请输入Region\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\nexport default memo(Index);\r\n","/*\r\n * @Description: 列表\r\n * @Author: luck-cmyk\r\n */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { Table, Button, Popconfirm, Space, message, Divider } from \"antd\";\r\nimport Page from \"../../components/Page\";\r\nimport ListTable from \"./components/ListTable\";\r\nimport CreateArea from \"./components/CreateArea\";\r\nimport UpdateArea from \"./components/UpdateArea\";\r\nfunction Index(props) {\r\n  const [create_visible, set_create_visible] = useState(false);\r\n  const [update_visible, set_update_visible] = useState(false);\r\n  const [info, set_info] = useState({});\r\n  const childRef = useRef();\r\n  const handleAdd = () => {\r\n    set_create_visible(true);\r\n  };\r\n  //取消创建区域\r\n  const create_cancel_h = () => {\r\n    set_create_visible(false);\r\n  };\r\n  //创建区域成功\r\n  const create_ok_h = () => {\r\n    set_create_visible(false);\r\n    childRef.current.getData();\r\n  };\r\n  //修改区域\r\n  const update_h = (info) => {\r\n    set_info(info);\r\n    set_update_visible(true);\r\n  };\r\n  //取消修改区域\r\n  const update_cancel_h = () => {\r\n    set_update_visible(false);\r\n  };\r\n  //修改区域成功\r\n  const update_ok_h = () => {\r\n    set_update_visible(false);\r\n    childRef.current.getData();\r\n  };\r\n\r\n  useEffect(() => {}, []);\r\n  return (\r\n    <Page title={props.route.title}>\r\n      {/* <Space direction=\"vertical\"> */}\r\n      <Space>\r\n        <Button type=\"primary\" onClick={handleAdd}>\r\n          添加地区\r\n        </Button>\r\n      </Space>\r\n      <Divider dashed />\r\n      <ListTable ref={childRef} update_h={(info) => update_h(info)} />\r\n      <CreateArea\r\n        visible={create_visible}\r\n        onCancel={() => create_cancel_h()}\r\n        onOk={() => create_ok_h()}\r\n      />\r\n      <UpdateArea\r\n        visible={update_visible}\r\n        onCancel={() => update_cancel_h()}\r\n        onOk={() => update_ok_h()}\r\n        info={info}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\nexport default Index;","import '../../style/default.less'; // style dependencies\n// deps-lint-skip: tooltip, popover\n\nimport '../../popover/style';\nimport '../../button/style';\nimport './index.less';","import '../../style/default.less';\nimport './index.less'; // style dependencies\n// deps-lint-skip: tooltip","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this;\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport Tooltip from '../tooltip';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { cloneElement } from '../_util/reactNode';\nimport { getTransitionName } from '../_util/motion';\nimport ActionButton from '../_util/ActionButton';\nvar Popconfirm = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var _useMergedState = useMergedState(false, {\n    value: props.visible,\n    defaultValue: props.defaultVisible\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      visible = _useMergedState2[0],\n      setVisible = _useMergedState2[1];\n\n  var settingVisible = function settingVisible(value, e) {\n    var _a;\n\n    setVisible(value);\n    (_a = props.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, value, e);\n  };\n\n  var close = function close(e) {\n    settingVisible(false, e);\n  };\n\n  var onConfirm = function onConfirm(e) {\n    var _a;\n\n    return (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var onCancel = function onCancel(e) {\n    var _a;\n\n    settingVisible(false, e);\n    (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var _onKeyDown = function onKeyDown(e) {\n    if (e.keyCode === KeyCode.ESC && visible) {\n      settingVisible(false, e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(value) {\n    var disabled = props.disabled;\n\n    if (disabled) {\n      return;\n    }\n\n    settingVisible(value);\n  };\n\n  var renderOverlay = function renderOverlay(prefixCls, popconfirmLocale) {\n    var okButtonProps = props.okButtonProps,\n        cancelButtonProps = props.cancelButtonProps,\n        title = props.title,\n        cancelText = props.cancelText,\n        okText = props.okText,\n        okType = props.okType,\n        icon = props.icon;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, icon, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message-title\")\n    }, getRenderPropValue(title))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-buttons\")\n    }, /*#__PURE__*/React.createElement(Button, _extends({\n      onClick: onCancel,\n      size: \"small\"\n    }, cancelButtonProps), cancelText || popconfirmLocale.cancelText), /*#__PURE__*/React.createElement(ActionButton, {\n      buttonProps: _extends(_extends({\n        size: 'small'\n      }, convertLegacyProps(okType)), okButtonProps),\n      actionFn: onConfirm,\n      close: close,\n      prefixCls: getPrefixCls('btn'),\n      quitOnNullishReturnValue: true,\n      emitEvent: true\n    }, okText || popconfirmLocale.okText)));\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      placement = props.placement,\n      children = props.children,\n      overlayClassName = props.overlayClassName,\n      restProps = __rest(props, [\"prefixCls\", \"placement\", \"children\", \"overlayClassName\"]);\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  var prefixClsConfirm = getPrefixCls('popconfirm', customizePrefixCls);\n  var overlayClassNames = classNames(prefixClsConfirm, overlayClassName);\n  var overlay = /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Popconfirm\",\n    defaultLocale: defaultLocale.Popconfirm\n  }, function (popconfirmLocale) {\n    return renderOverlay(prefixCls, popconfirmLocale);\n  });\n  var rootPrefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, restProps, {\n    prefixCls: prefixCls,\n    placement: placement,\n    onVisibleChange: onVisibleChange,\n    visible: visible,\n    overlay: overlay,\n    overlayClassName: overlayClassNames,\n    ref: ref,\n    transitionName: getTransitionName(rootPrefixCls, 'zoom-big', props.transitionName)\n  }), cloneElement(children, {\n    onKeyDown: function onKeyDown(e) {\n      var _a, _b;\n\n      if ( /*#__PURE__*/React.isValidElement(children)) {\n        (_b = children === null || children === void 0 ? void 0 : (_a = children.props).onKeyDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n      }\n\n      _onKeyDown(e);\n    }\n  }));\n});\nPopconfirm.defaultProps = {\n  placement: 'top',\n  trigger: 'click',\n  okType: 'primary',\n  icon: /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n  disabled: false\n};\nexport default Popconfirm;","export var getRenderPropValue = function getRenderPropValue(propValue) {\n  if (!propValue) {\n    return null;\n  }\n\n  var isRenderFunction = typeof propValue === 'function';\n\n  if (isRenderFunction) {\n    return propValue();\n  }\n\n  return propValue;\n};"],"sourceRoot":""}