{"version":3,"sources":["pages/RobotRulesConfig/components/ListTable.js","../node_modules/@ant-design/icons-svg/es/asn/MinusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js","pages/RobotRulesConfig/components/CreateRules.js","pages/RobotRulesConfig/components/UpdateRules.js","pages/RobotRulesConfig/index.js","api/room.js","../node_modules/antd/es/popconfirm/style/index.js","../node_modules/antd/es/popover/style/index.js","../node_modules/antd/es/popconfirm/index.js","../node_modules/antd/es/_util/getRenderPropValue.js"],"names":["ListTable","props","ref","useImperativeHandle","getData","newVal","personal_adjust_rules_config_get_handle","modifypassword_h","modifyaccountRole_h","block_h","pageSize","total","update_h","showTotal","useState","loading","setLoading","data","setData","current","showSizeChanger","pagination","setPagination","flag_trans_text","type","text","set_status_h","status","id","a","personal_adjust_rules_config_set_status","message","success","columns","title","dataIndex","key","fixed","width","render","_","record","flag","align","index","onClick","onConfirm","okText","cancelText","params","personal_adjust_rules_config_get","page","page_size","count","console","error","useEffect","bordered","dataSource","rowKey","onChange","scroll","x","forwardRef","MinusCircleOutlined","React","AntdIcon","_objectSpread","icon","MinusCircleOutlinedSvg","displayName","Option","TextArea","Index","onCancel","visible","onOk","useForm","form","adjust_arr","set_adjust_arr","submit","validateFields","then","personal_adjust_rules_config_create","getFieldsValue","trigger_conds_group","getFieldValue","map","item","val","toString","complete_conds_group","resetFields","e","personal_adjust_cond_config_get_all_h","personal_adjust_cond_config_get_all","adjust_arr_m","value","desc","FormConfig","labelCol","span","wrapperCol","name","hideRequiredMark","Item","label","rules","required","placeholder","List","validator","log","length","Promise","resolve","reject","Error","fields","add","remove","fieldKey","restField","style","display","marginBottom","alignItems","showSearch","suffixIcon","offset","block","PlusOutlined","memo","info","personal_adjust_rules_config_update","trans_val","split","isListField","setFieldsValue","childRef","useRef","create_visible","set_create_visible","update_visible","set_update_visible","set_info","Page","route","dashed","CreateRules","room_get","axios","get","room_add","post","room_update","put","room_del","delete","discard_config_create","jpost","discard_config_get","discard_config_update","dropcard_config_create","dropcard_config_get","dropcard_config_update","room_config_get","room_config_set","room_config_add","room_config_update","room_pool_rules_config_create","room_pool_rules_config_update","room_pool_rules_config_get","room_pool_rules_config_set_status","room_money_pool_create","room_money_pool_get","room_money_pool_update","personal_adjust_cond_config_delete","personal_adjust_cond_config_create","personal_adjust_cond_config_update","personal_adjust_cond_config_get","personal_adjust_cd_config_create","personal_adjust_cd_config_update","personal_adjust_cd_config_get","_this","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","Popconfirm","getPrefixCls","ConfigContext","_useMergedState","useMergedState","defaultValue","defaultVisible","_useMergedState2","_slicedToArray","setVisible","settingVisible","_a","onVisibleChange","close","customizePrefixCls","prefixCls","placement","children","overlayClassName","restProps","prefixClsConfirm","overlayClassNames","classNames","overlay","LocaleReceiver","componentName","defaultLocale","popconfirmLocale","okButtonProps","cancelButtonProps","okType","className","concat","getRenderPropValue","Button","_extends","size","ActionButton","buttonProps","convertLegacyProps","actionFn","quitOnNullishReturnValue","emitEvent","renderOverlay","rootPrefixCls","Tooltip","disabled","transitionName","getTransitionName","cloneElement","onKeyDown","_b","keyCode","KeyCode","ESC","_onKeyDown","defaultProps","trigger","ExclamationCircleFilled","propValue"],"mappings":"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","file":"static/js/21.c4911a9b.chunk.js","sourcesContent":["import { Table, Button, Popconfirm, message } from \"antd\";\r\nimport React, {\r\n  useEffect,\r\n  useState,\r\n  forwardRef,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport dayjs from \"dayjs\";\r\nimport {\r\n  personal_adjust_rules_config_get,\r\n  personal_adjust_rules_config_set_status,\r\n} from \"../../../api/room\";\r\n// import { personal_adjust_rules_config_get, get_by_user_nam } from \"../../../api/acount\";\r\n// import mock from ''\r\nconst ListTable = (props, ref) => {\r\n  useImperativeHandle(ref, () => ({\r\n    // changeVal 就是暴露给父组件的方法\r\n    getData: (newVal) => {\r\n      personal_adjust_rules_config_get_handle(newVal);\r\n    },\r\n  }));\r\n  const {\r\n    modifypassword_h,\r\n    modifyaccountRole_h,\r\n    block_h,\r\n    pageSize = 10,\r\n    total = 0,\r\n    update_h,\r\n    showTotal = true,\r\n  } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [pagination, setPagination] = useState({\r\n    current: 1,\r\n    pageSize: pageSize || 10,\r\n    total: total || 0,\r\n    showSizeChanger: true,\r\n  });\r\n  //标志转换\r\n  const flag_trans_text = (type) => {\r\n    let text;\r\n    switch (type) {\r\n      case 0:\r\n        text = \"收分\";\r\n        break;\r\n      case 1:\r\n        text = \"放分\";\r\n        break;\r\n    }\r\n    return text;\r\n  };\r\n  const set_status_h = async (status, id) => {\r\n    await personal_adjust_rules_config_set_status({\r\n      status: status == 0 ? 1 : 0,\r\n      id\r\n    });\r\n    personal_adjust_rules_config_get_handle();\r\n    message.success(\"修改成功\");\r\n  };\r\n  const columns = [\r\n    { title: \"规则id\", dataIndex: \"id\", key: \"id\", fixed: \"left\", width: 100 },\r\n    { title: \"描述\", dataIndex: \"desc\" },\r\n\r\n    {\r\n      title: \"标志\",\r\n      dataIndex: \"flag\",\r\n      render: (_, record) => <span>{flag_trans_text(record.flag)}</span>,\r\n    },\r\n    { title: \"触发条件组\", dataIndex: \"trigger_conds_group\" },\r\n    {\r\n      title: \"中断条件组\",\r\n      dataIndex: \"complete_conds_group\",\r\n    },\r\n\r\n    { title: \"强制中断次数\", dataIndex: \"break_cnt\" },\r\n    {\r\n      title: \"触发概率\",\r\n      dataIndex: \"trigger_fac\",\r\n    },\r\n    { title: \"每次触发概率修正值\", dataIndex: \"trigger_delta_fac\" },\r\n    {\r\n      title: \"玩家配牌分数最小值\",\r\n      dataIndex: \"self_score_min\",\r\n    },\r\n    { title: \"玩家配牌分数最大值\", dataIndex: \"self_score_max\" },\r\n    {\r\n      title: \"玩家配牌每次修正值\",\r\n      dataIndex: \"self_score_delta_fac\",\r\n    },\r\n    { title: \"机器人配牌分数最小值\", dataIndex: \"wingman_score_min\" },\r\n    {\r\n      title: \"机器人配牌分数最大值\",\r\n      dataIndex: \"wingman_score_max\",\r\n    },\r\n\r\n    { title: \"机器人配牌每次修正值\", dataIndex: \"wingman_score_delta_fac\" },\r\n    {\r\n      title: \"权重\",\r\n      dataIndex: \"weight\",\r\n    },\r\n    {\r\n      title: \"状态\",\r\n      dataIndex: \"status\",\r\n      render: (_, record) => <span>{record.status == 0 ? \"有效\" : \"失效\"}</span>,\r\n    },\r\n    {\r\n      title: \"操作\",\r\n      dataIndex: \"operation\",\r\n      align: \"center\",\r\n      width: 200,\r\n      fixed: \"right\",\r\n      render: (text, record, index) => {\r\n        return (\r\n          <span>\r\n            <Button\r\n              type=\"link\"\r\n              onClick={() => {\r\n                update_h(record);\r\n              }}\r\n            >\r\n              编辑\r\n            </Button>\r\n            <Popconfirm\r\n              title={`确定${record.status == 0 ? \"关闭\" : \"启用\"}这条规则？`}\r\n              onConfirm={() => {\r\n                set_status_h(record.status, record.id);\r\n              }}\r\n              okText=\"确定\"\r\n              cancelText=\"取消\"\r\n            >\r\n              <Button type=\"link\">\r\n                {record.status == 0 ? \"关闭\" : \"启用\"}\r\n              </Button>\r\n            </Popconfirm>\r\n          </span>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n  //获取列表\r\n  const personal_adjust_rules_config_get_handle = async (params = {}) => {\r\n    try {\r\n      setLoading(true);\r\n      let data = await personal_adjust_rules_config_get({\r\n        page: pagination.current,\r\n        page_size: pagination.pageSize,\r\n        ...params,\r\n      });\r\n      // console.log(data)\r\n      setData(data.data);\r\n        setPagination({\r\n        ...pagination,\r\n        total: data.page.count,\r\n      });\r\n      // console.log(pagination);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setLoading(false);\r\n      console.error(e);\r\n    }\r\n  };\r\n  //表格改变触发\r\n  const onchange = (pagination) => {\r\n    // console.log(pagination)\r\n    setPagination({ ...pagination });\r\n  };\r\n  useEffect(() => {\r\n    personal_adjust_rules_config_get_handle();\r\n  }, [pagination.current, pagination.pageSize]);\r\n  return (\r\n    <>\r\n      <Table\r\n        bordered\r\n        loading={loading}\r\n        columns={columns}\r\n        dataSource={data}\r\n        rowKey=\"id\"\r\n        pagination={pagination}\r\n        onChange={onchange}\r\n        scroll={{ x: 3300 }}\r\n      ></Table>\r\n    </>\r\n  );\r\n};\r\nexport default forwardRef(ListTable);\r\n","// This icon file is generated automatically.\nvar MinusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"minus-circle\", \"theme\": \"outlined\" };\nexport default MinusCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusCircleOutlined = function MinusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MinusCircleOutlinedSvg\n  }));\n};\n\nMinusCircleOutlined.displayName = 'MinusCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(MinusCircleOutlined);","import React, { memo, useState, useEffect } from \"react\";\r\nimport {\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Button,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  message,\r\n  InputNumber,\r\n} from \"antd\";\r\nimport { Tree } from \"antd\";\r\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  personal_adjust_cond_config_get_all,\r\n  personal_adjust_rules_config_create,\r\n} from \"../../../api/room\";\r\n// import { role_create } from \"../../../api/role\";\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst Index = (props) => {\r\n  const { onCancel, visible, onOk } = props;\r\n  const [form] = Form.useForm();\r\n  const [trigger_conds_group, set_trigger_conds_group] = useState([null]);\r\n  const [complete_conds_group, set_complete_conds_group] = useState([null]);\r\n  const [adjust_arr, set_adjust_arr] = useState([]);\r\n  //提交\r\n  const submit = async () => {\r\n    // console.log(form.getFieldsValue());\r\n    try {\r\n      form.validateFields().then(async () => {\r\n        await personal_adjust_rules_config_create({\r\n          ...form.getFieldsValue(),\r\n          trigger_conds_group: form\r\n            .getFieldValue(\"trigger_conds_group\")\r\n            .map((item) => item.val)\r\n            .toString(),\r\n          complete_conds_group: form\r\n            .getFieldValue(\"complete_conds_group\")\r\n            .map((item) => item.val)\r\n            .toString(),\r\n        });\r\n        message.success(\"创建成功\");\r\n        onOk();\r\n        form.resetFields();\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  //获取个人条件\r\n  const personal_adjust_cond_config_get_all_h = async () => {\r\n    let data = await personal_adjust_cond_config_get_all();\r\n    const adjust_arr_m = data.map((item) => ({\r\n      value: item.id,\r\n      title: `${item.id}-${item.desc}`,\r\n    }));\r\n    set_adjust_arr(adjust_arr_m);\r\n  };\r\n  const FormConfig = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n\r\n  const on_cancel = () => {\r\n    onCancel();\r\n    form.resetFields();\r\n  };\r\n  useEffect(() => {\r\n    if (visible) {\r\n      personal_adjust_cond_config_get_all_h();\r\n    }\r\n  }, [visible]);\r\n  return (\r\n    <Modal\r\n      title=\"添加规则\"\r\n      visible={visible}\r\n      onCancel={on_cancel}\r\n      onOk={submit}\r\n    >\r\n      <Form\r\n        {...FormConfig}\r\n        form={form}\r\n        name=\"form_in_modal\"\r\n        hideRequiredMark={true}\r\n      >\r\n        <Form.Item\r\n          label=\"标志\"\r\n          name=\"flag\"\r\n          rules={[{ required: true, message: \"请选择标志\" }]}\r\n        >\r\n          <Select placeholder=\"请选择标志\">\r\n            <Option value={0}>收分</Option>\r\n            <Option value={1}>放分</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.List\r\n          label=\"触发条件组合\"\r\n          name=\"trigger_conds_group\"\r\n          labelCol={FormConfig.labelCol.span}\r\n          rules={[\r\n            { required: true, message: \"请选择触发条件\" },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                console.log(value);\r\n                if (!value || value?.length === 0) {\r\n                  message.error(\"请添加触发条件\");\r\n                  return Promise.reject(new Error(\"请添加触发条件\"));\r\n                }\r\n                return Promise.resolve();\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          {(fields, { add, remove }) => (\r\n            <>\r\n              {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                <div\r\n                  key={key}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    marginBottom: 8,\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Form.Item\r\n                    {...restField}\r\n                    label=\"触发条件\"\r\n                    name={[name, \"val\"]}\r\n                    fieldKey={[fieldKey, \"val\"]}\r\n                    rules={[{ required: true, message: \"请选择触发条件\" }]}\r\n                  >\r\n                      <Select\r\n                        showSearch\r\n                        placeholder=\"请选择触发条件\"\r\n                        suffixIcon={\r\n                          <MinusCircleOutlined\r\n                            style={{}}\r\n                            onClick={() => remove(name)}\r\n                          />\r\n                        }\r\n                      >\r\n                        {adjust_arr.map((item) => (\r\n                          <Option key={item.value} value={item.value}>\r\n                            {item.title}\r\n                          </Option>\r\n                        ))}\r\n                      </Select>\r\n                  </Form.Item>\r\n                </div>\r\n              ))}\r\n              <Form.Item\r\n                wrapperCol={{\r\n                  span: FormConfig.wrapperCol.span,\r\n                  offset: FormConfig.labelCol.span,\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => add()}\r\n                  block\r\n                  icon={<PlusOutlined />}\r\n                >\r\n                  添加触发条件\r\n                </Button>\r\n              </Form.Item>\r\n            </>\r\n          )}\r\n        </Form.List>\r\n        <Form.List\r\n          label=\"中断条件组合\"\r\n          name=\"complete_conds_group\"\r\n          labelCol={FormConfig.labelCol.span}\r\n          rules={[\r\n            { required: true, message: \"请选择中断条件\" },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || value?.length === 0) {\r\n                  message.error(\"请添加中断条件\");\r\n                  return Promise.reject(new Error(\"请添加中断条件\"));\r\n                }\r\n                return Promise.resolve();\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          {(fields, { add, remove }) => (\r\n            <>\r\n              {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                <div\r\n                  key={key}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    marginBottom: 8,\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Form.Item\r\n                    {...restField}\r\n                    label=\"中断条件\"\r\n                    name={[name, \"val\"]}\r\n                    fieldKey={[fieldKey, \"val\"]}\r\n                    rules={[{ required: true, message: \"请选择中断条件\" }]}\r\n                  >\r\n                      <Select\r\n                        showSearch\r\n                        placeholder=\"请选择中断条件\"\r\n                        suffixIcon={\r\n                          <MinusCircleOutlined\r\n                            style={{}}\r\n                            onClick={() => remove(name)}\r\n                          />\r\n                        }\r\n                      >\r\n                        {adjust_arr.map((item) => (\r\n                          <Option key={item.value} value={item.value}>\r\n                            {item.title}\r\n                          </Option>\r\n                        ))}\r\n                      </Select>\r\n                  </Form.Item>\r\n                </div>\r\n              ))}\r\n              <Form.Item\r\n                wrapperCol={{\r\n                  span: FormConfig.wrapperCol.span,\r\n                  offset: FormConfig.labelCol.span,\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => add()}\r\n                  block\r\n                  icon={<PlusOutlined />}\r\n                >\r\n                  添加中断条件\r\n                </Button>\r\n              </Form.Item>\r\n            </>\r\n          )}\r\n        </Form.List>\r\n\r\n        <Form.Item\r\n          label=\"强制中断次数\"\r\n          name=\"break_cnt\"\r\n          rules={[{ required: true, message: \"请输入强制中断次数\" }]}\r\n        >\r\n          <InputNumber placeholder=\"请输入强制中断次数\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"触发概率\"\r\n          name=\"trigger_fac\"\r\n          rules={[{ required: true, message: \"请输入触发概率\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入触发概率\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"每次触发概率修正值\"\r\n          name=\"trigger_delta_fac\"\r\n          rules={[{ required: true, message: \"请输入每次触发概率修正值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入每次触发概率修正值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"权重\"\r\n          name=\"weight\"\r\n          rules={[{ required: true, message: \"请输入权重\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入权重\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"玩家配牌分数最小值\"\r\n          name=\"self_score_min\"\r\n          rules={[{ required: true, message: \"请输入玩家配牌分数最小值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入玩家配牌分数最小值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"玩家配牌分数最大值\"\r\n          name=\"self_score_max\"\r\n          rules={[{ required: true, message: \"请输入玩家配牌分数最大值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入玩家配牌分数最大值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"玩家配牌每次修正值\"\r\n          name=\"self_score_delta_fac\"\r\n          rules={[{ required: true, message: \"请输入玩家配牌每次修正值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入玩家配牌每次修正值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"机器人配牌分数最小值\"\r\n          name=\"wingman_score_min\"\r\n          rules={[{ required: true, message: \"请输入机器人配牌分数最小值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入机器人配牌分数最小值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"机器人配牌分数最大值\"\r\n          name=\"wingman_score_max\"\r\n          rules={[{ required: true, message: \"请输入机器人配牌分数最大值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入机器人配牌分数最大值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"机器人配牌每次修正值\"\r\n          name=\"wingman_score_delta_fac\"\r\n          rules={[{ required: true, message: \"请输入机器人配牌每次修正值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入机器人配牌每次修正值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"描述\"\r\n          name=\"desc\"\r\n          rules={[{ required: true, message: \"请输入描述\" }]}\r\n        >\r\n          <TextArea placeholder=\"请输入描述\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\nexport default memo(Index);\r\n","import React, { memo, useState, useEffect } from \"react\";\r\nimport {\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Button,\r\n  Space,\r\n  Row,\r\n  Col,\r\n  message,\r\n  InputNumber,\r\n} from \"antd\";\r\nimport { Tree } from \"antd\";\r\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  personal_adjust_cond_config_get_all,\r\n  personal_adjust_rules_config_create,\r\n  personal_adjust_rules_config_update,\r\n} from \"../../../api/room\";\r\n// import { role_create } from \"../../../api/role\";\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst Index = (props) => {\r\n  const { onCancel, visible, onOk, info } = props;\r\n  const [form] = Form.useForm();\r\n  const [trigger_conds_group, set_trigger_conds_group] = useState([null]);\r\n  const [complete_conds_group, set_complete_conds_group] = useState([null]);\r\n  const [adjust_arr, set_adjust_arr] = useState([]);\r\n  //提交\r\n  const submit = async () => {\r\n    try {\r\n      form.validateFields().then(async () => {\r\n        await personal_adjust_rules_config_update({\r\n          id: info.id,\r\n          ...form.getFieldsValue(),\r\n          trigger_conds_group: form\r\n            .getFieldValue(\"trigger_conds_group\")\r\n            .map((item) => item.val)\r\n            .toString(),\r\n          complete_conds_group: form\r\n            .getFieldValue(\"complete_conds_group\")\r\n            .map((item) => item.val)\r\n            .toString(),\r\n        });\r\n        message.success(\"修改成功\");\r\n        onOk();\r\n        form.resetFields();\r\n      });\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n  //获取个人条件\r\n  const personal_adjust_cond_config_get_all_h = async () => {\r\n    let data = await personal_adjust_cond_config_get_all();\r\n    const adjust_arr_m = data.map((item) => ({\r\n      value: item.id,\r\n      title: `${item.id}-${item.desc}`,\r\n    }));\r\n    set_adjust_arr(adjust_arr_m);\r\n  };\r\n  const FormConfig = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n\r\n  const on_cancel = () => {\r\n    onCancel();\r\n    form.resetFields();\r\n  };\r\n\r\n  const trans_val = (data) => {\r\n    let arr = data.split(\",\");\r\n    let new_arr = [];\r\n    new_arr = arr.map((item, index) => ({\r\n      val: item,\r\n      fieldKey: index,\r\n      isListField: true,\r\n      key: index,\r\n      name: index,\r\n    }));\r\n    return new_arr;\r\n  };\r\n  useEffect(() => {\r\n    if (visible) {\r\n      form.setFieldsValue({\r\n        ...info,\r\n        trigger_conds_group: trans_val(info.trigger_conds_group),\r\n        complete_conds_group: trans_val(info.complete_conds_group),\r\n      });\r\n      personal_adjust_cond_config_get_all_h();\r\n    }\r\n  }, [visible]);\r\n\r\n  return (\r\n    <Modal\r\n      title=\"修改规则\"\r\n      visible={visible}\r\n      onCancel={on_cancel}\r\n      onOk={submit}\r\n    >\r\n      <Form\r\n        {...FormConfig}\r\n        form={form}\r\n        name=\"form_in_modal\"\r\n        hideRequiredMark={true}\r\n      >\r\n        <Form.Item\r\n          label=\"标志\"\r\n          name=\"flag\"\r\n          rules={[{ required: true, message: \"请选择标志\" }]}\r\n        >\r\n          <Select placeholder=\"请选择标志\">\r\n            <Option value={0}>收分</Option>\r\n            <Option value={1}>放分</Option>\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.List\r\n          label=\"触发条件组合\"\r\n          name=\"trigger_conds_group\"\r\n          labelCol={FormConfig.labelCol.span}\r\n          rules={[\r\n            { required: true, message: \"请选择触发条件\" },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || value?.length === 0) {\r\n                  message.error(\"请添加触发条件\");\r\n                  return Promise.reject(new Error(\"请添加触发条件\"));\r\n                }\r\n                return Promise.resolve();\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          {(fields, { add, remove }) => (\r\n            <>\r\n              {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                <div\r\n                  key={key}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    marginBottom: 8,\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Form.Item\r\n                    {...restField}\r\n                    label=\"触发条件\"\r\n                    name={[name, \"val\"]}\r\n                    fieldKey={[fieldKey, \"val\"]}\r\n                    rules={[{ required: true, message: \"请输入触发条件\" }]}\r\n                  >\r\n                    <Select\r\n                      showSearch\r\n                      placeholder=\"请选择触发条件\"\r\n                      suffixIcon={\r\n                        <MinusCircleOutlined\r\n                          style={{}}\r\n                          onClick={() => remove(name)}\r\n                        />\r\n                      }\r\n                    >\r\n                      {adjust_arr.map((item) => (\r\n                        <Option key={item.value} value={item.value}>\r\n                          {item.title}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </div>\r\n              ))}\r\n              <Form.Item\r\n                wrapperCol={{\r\n                  span: FormConfig.wrapperCol.span,\r\n                  offset: FormConfig.labelCol.span,\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => {\r\n                    // add_trigger_h(add);\r\n                    add();\r\n                  }}\r\n                  block\r\n                  icon={<PlusOutlined />}\r\n                >\r\n                  添加触发条件\r\n                </Button>\r\n              </Form.Item>\r\n            </>\r\n          )}\r\n        </Form.List>\r\n\r\n        <Form.List\r\n          label=\"中断条件组合\"\r\n          name=\"complete_conds_group\"\r\n          labelCol={FormConfig.labelCol.span}\r\n          rules={[\r\n            { required: true, message: \"请输入中断条件\" },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || value?.length === 0) {\r\n                  message.error(\"请添加中断条件\");\r\n                  return Promise.reject(new Error(\"请添加中断条件\"));\r\n                }\r\n                return Promise.resolve();\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          {(fields, { add, remove }) => (\r\n            <>\r\n              {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                <div\r\n                  key={key}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    marginBottom: 8,\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Form.Item\r\n                    {...restField}\r\n                    label=\"中断条件\"\r\n                    name={[name, \"val\"]}\r\n                    fieldKey={[fieldKey, \"val\"]}\r\n                    rules={[{ required: true, message: \"请选择中断条件\" }]}\r\n                  >\r\n                    <Select\r\n                      showSearch\r\n                      placeholder=\"请选择中断条件\"\r\n                      suffixIcon={\r\n                        <MinusCircleOutlined\r\n                          style={{}}\r\n                          onClick={() => remove(name)}\r\n                        />\r\n                      }\r\n                    >\r\n                      {adjust_arr.map((item) => (\r\n                        <Option key={item.value} value={item.value}>\r\n                          {item.title}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                    {/* <MinusCircleOutlined\r\n                      style={{ marginLeft: \"8px\" }}\r\n                      onClick={() => remove(name)}\r\n                    /> */}\r\n                  </Form.Item>\r\n                </div>\r\n              ))}\r\n              <Form.Item\r\n                wrapperCol={{\r\n                  span: FormConfig.wrapperCol.span,\r\n                  offset: FormConfig.labelCol.span,\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"dashed\"\r\n                  onClick={() => {\r\n                    add();\r\n                  }}\r\n                  block\r\n                  icon={<PlusOutlined />}\r\n                >\r\n                  添加中断条件\r\n                </Button>\r\n              </Form.Item>\r\n            </>\r\n          )}\r\n        </Form.List>\r\n\r\n        <Form.Item\r\n          label=\"强制中断次数\"\r\n          name=\"break_cnt\"\r\n          rules={[{ required: true, message: \"请输入强制中断次数\" }]}\r\n        >\r\n          <InputNumber placeholder=\"请输入强制中断次数\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"触发概率\"\r\n          name=\"trigger_fac\"\r\n          rules={[{ required: true, message: \"请输入触发概率\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入触发概率\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"每次触发概率修正值\"\r\n          name=\"trigger_delta_fac\"\r\n          rules={[{ required: true, message: \"请输入每次触发概率修正值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入每次触发概率修正值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"权重\"\r\n          name=\"weight\"\r\n          rules={[{ required: true, message: \"请输入权重\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入权重\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"玩家配牌分数最小值\"\r\n          name=\"self_score_min\"\r\n          rules={[{ required: true, message: \"请输入玩家配牌分数最小值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入玩家配牌分数最小值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"玩家配牌分数最大值\"\r\n          name=\"self_score_max\"\r\n          rules={[{ required: true, message: \"请输入玩家配牌分数最大值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入玩家配牌分数最大值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"玩家配牌每次修正值\"\r\n          name=\"self_score_delta_fac\"\r\n          rules={[{ required: true, message: \"请输入玩家配牌每次修正值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入玩家配牌每次修正值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"机器人配牌分数最小值\"\r\n          name=\"wingman_score_min\"\r\n          rules={[{ required: true, message: \"请输入机器人配牌分数最小值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入机器人配牌分数最小值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"机器人配牌分数最大值\"\r\n          name=\"wingman_score_max\"\r\n          rules={[{ required: true, message: \"请输入机器人配牌分数最大值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入机器人配牌分数最大值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"机器人配牌每次修正值\"\r\n          name=\"wingman_score_delta_fac\"\r\n          rules={[{ required: true, message: \"请输入机器人配牌每次修正值\" }]}\r\n        >\r\n          <InputNumber  placeholder=\"请输入机器人配牌每次修正值\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"描述\"\r\n          name=\"desc\"\r\n          rules={[{ required: true, message: \"请输入描述\" }]}\r\n        >\r\n          <TextArea placeholder=\"请输入描述\" />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\nexport default memo(Index);\r\n","/*\r\n * @Description: 列表\r\n * @Author: luck-cmyk\r\n */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { Table, Button, Popconfirm, Space, message, Divider } from \"antd\";\r\nimport Page from \"../../components/Page\";\r\nimport ListTable from \"./components/ListTable\";\r\nimport CreateRules from \"./components/CreateRules\";\r\nimport UpdateRule from \"./components/UpdateRules\";\r\n\r\nfunction Index(props) {\r\n  const childRef = useRef();\r\n\r\n  const [create_visible, set_create_visible] = useState(false);\r\n  const [update_visible, set_update_visible] = useState(false);\r\n  const [info, set_info] = useState({});\r\n  useEffect(() => {}, []);\r\n  const handleAdd = () => {\r\n    set_create_visible(true);\r\n  };\r\n  //添加成功\r\n  const create_ok = () => {\r\n    set_create_visible(false);\r\n    childRef.current.getData();\r\n  };\r\n  //取消创建\r\n  const create_cancel = () => {\r\n    set_create_visible(false);\r\n  };\r\n  const update_h = (data) => {\r\n    set_info(data);\r\n    set_update_visible(true);\r\n  };\r\n  const update_ok = () => {\r\n    childRef.current.getData();\r\n    set_update_visible(false);\r\n  };\r\n  const update_cancel = () => {\r\n    set_update_visible(false);\r\n  };\r\n  return (\r\n    <Page title={props.route.title}>\r\n      {/* <Space direction=\"vertical\"> */}\r\n      <Space>\r\n        <Button type=\"primary\" onClick={handleAdd}>\r\n          添加规则\r\n        </Button>\r\n      </Space>\r\n      <Divider dashed />\r\n      <ListTable ref={childRef} update_h={update_h} />\r\n      <CreateRules\r\n        visible={create_visible}\r\n        onOk={() => create_ok()}\r\n        onCancel={() => create_cancel()}\r\n      />\r\n\r\n      <UpdateRule\r\n        visible={update_visible}\r\n        onOk={() => update_ok()}\r\n        onCancel={() => update_cancel()}\r\n        info={info}\r\n      />\r\n    </Page>\r\n  );\r\n}\r\nexport default Index;\r\n","import axios from \"utils/http\";\r\n\r\n//获取房间列表\r\nexport const room_get = (params) => {\r\n  return axios.get(`/admin/room-list`, params);\r\n};\r\n\r\n//新增房间列表\r\nexport const room_add = (params) => {\r\n  return axios.post(`/admin/room-list`, params);\r\n};\r\n\r\n//修改房间列表\r\nexport const room_update = (params) => {\r\n  return axios.put(`/admin/room-list`, params);\r\n};\r\n\r\n//删除房间列表\r\nexport const room_del = (params) => {\r\n  return axios.delete(`/admin/room-list`, params);\r\n};\r\n//返回房间名\r\nexport const room_get_by_name = (params) => {\r\n  return axios.get(`/admin/room-list-by-name`, params);\r\n};\r\n\r\n//机器人\r\n//获取机器人详情\r\nexport const robot_info_get = (params) => {\r\n  return axios.get(`/admin/wingman`, params);\r\n};\r\n\r\n//机器人特殊出牌设置新增\r\nexport const discard_config_create = (params) => {\r\n  return axios.jpost(\"/admin/wingman-discard-config\", params);\r\n};\r\n//机器人特殊出牌设置获取\r\nexport const discard_config_get = (params) => {\r\n  return axios.get(\"/admin/wingman-discard-config\", params);\r\n};\r\n//机器人特殊出牌设置修改\r\nexport const discard_config_update = (params) => {\r\n  return axios.put(\"/admin/wingman-discard-config\", params);\r\n};\r\n\r\n//机器人弃牌设置新增\r\nexport const dropcard_config_create = (params) => {\r\n  return axios.jpost(\"/admin/wingman-drop-config\", params);\r\n};\r\n//机器人弃牌设置获取\r\nexport const dropcard_config_get = (params) => {\r\n  return axios.get(\"/admin/wingman-drop-config\", params);\r\n};\r\n//机器人弃牌设置修改\r\nexport const dropcard_config_update = (params) => {\r\n  return axios.put(\"/admin/wingman-drop-config\", params);\r\n};\r\n\r\n//机器人房间设置获取\r\nexport const room_config_get = (params) => {\r\n  return axios.get(\"/admin/wingman-room-config\", params);\r\n};\r\n\r\n//机器人房间设置修改状态\r\nexport const room_config_set = (params) => {\r\n  return axios.put(\"/admin/wingman-room-config/set-status\", params);\r\n};\r\n//机器人房间设置新增\r\nexport const room_config_add = (params) => {\r\n  return axios.jpost(\"/admin/wingman-room-config\", params);\r\n};\r\n//机器人房间设置修改\r\nexport const room_config_update = (params) => {\r\n  return axios.put(\"/admin/wingman-room-config\", params);\r\n};\r\n//房间池规则新增\r\nexport const room_pool_rules_config_create = (params) => {\r\n  return axios.jpost(\"/admin/room-money-pool-rules-config\", params);\r\n};\r\n//房间池规则修改\r\nexport const room_pool_rules_config_update = (params) => {\r\n  return axios.put(\"/admin/room-money-pool-rules-config\", params);\r\n};\r\n//房间池规则获取\r\nexport const room_pool_rules_config_get = (params) => {\r\n  return axios.get(\"/admin/room-money-pool-rules-config\", params);\r\n};\r\n//房间池规则设置状态\r\nexport const room_pool_rules_config_set_status = (params) => {\r\n  return axios.put(\"/admin/room-money-pool-rules-config/set-status\", params);\r\n};\r\n//房间池配置新增\r\nexport const room_list_create = (params) => {\r\n  return axios.jpost(\"/admin/room-list\", params);\r\n};\r\n//房间池基本配置新增\r\nexport const room_money_pool_create = (params) => {\r\n  return axios.jpost(\"/admin/room-money-pool-config\", params);\r\n};\r\n//房间池基本配置获取\r\nexport const room_money_pool_get = (params) => {\r\n  return axios.get(\"/admin/room-money-pool-config\", params);\r\n};\r\n//房间池基本配置修改\r\nexport const room_money_pool_update = (params) => {\r\n  return axios.put(\"/admin/room-money-pool-config\", params);\r\n};\r\n//个人池条件配置删除\r\nexport const personal_adjust_cond_config_delete = (params) => {\r\n  return axios.delete(`/personal-adjust-cond-config/`, params);\r\n};\r\n//个人池条件配置新增\r\nexport const personal_adjust_cond_config_create = (params) => {\r\n  return axios.jpost(\"/admin/personal-adjust-cond-config\", params);\r\n};\r\n//个人池条件配置修改\r\nexport const personal_adjust_cond_config_update = (params) => {\r\n  return axios.put(\"/admin/personal-adjust-cond-config\", params);\r\n};\r\n//个人池条件配置获取\r\nexport const personal_adjust_cond_config_get = (params) => {\r\n  return axios.get(\"/admin/personal-adjust-cond-config\", params);\r\n};\r\n//个人池条件配置全部获取\r\nexport const personal_adjust_cond_config_get_all = (params) => {\r\n  return axios.get(\"/admin/personal-adjust-cond-config/list\", params);\r\n};\r\n//个人池冷却配置新增\r\nexport const personal_adjust_cd_config_create = (params) => {\r\n  return axios.jpost(\"/admin/personal-adjust-cd-config\", params);\r\n};\r\n//个人池冷却配置修改\r\nexport const personal_adjust_cd_config_update = (params) => {\r\n  return axios.put(\"/admin/personal-adjust-cd-config\", params);\r\n};\r\n//个人池冷却配置获取\r\nexport const personal_adjust_cd_config_get = (params) => {\r\n  return axios.get(\"/admin/personal-adjust-cd-config\", params);\r\n};\r\n\r\n//个人池规则配置新增\r\nexport const personal_adjust_rules_config_create = (params) => {\r\n  return axios.jpost(\"/admin/personal-adjust-rules-config\", params);\r\n};\r\n//个人池规则配置修改\r\nexport const personal_adjust_rules_config_update = (params) => {\r\n  return axios.put(\"/admin/personal-adjust-rules-config\", params);\r\n};\r\n//个人池规则配置修改状态\r\nexport const personal_adjust_rules_config_set_status = (params) => {\r\n  return axios.put(\"/admin/room-money-pool-config/set-status\", params);\r\n};\r\n\r\n//个人池规则配置获取\r\nexport const personal_adjust_rules_config_get = (params) => {\r\n  return axios.get(\"/admin/personal-adjust-rules-config\", params);\r\n};\r\n","import '../../style/default.less'; // style dependencies\n// deps-lint-skip: tooltip, popover\n\nimport '../../popover/style';\nimport '../../button/style';\nimport './index.less';","import '../../style/default.less';\nimport './index.less'; // style dependencies\n// deps-lint-skip: tooltip","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this;\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport Tooltip from '../tooltip';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { cloneElement } from '../_util/reactNode';\nimport { getTransitionName } from '../_util/motion';\nimport ActionButton from '../_util/ActionButton';\nvar Popconfirm = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var _useMergedState = useMergedState(false, {\n    value: props.visible,\n    defaultValue: props.defaultVisible\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      visible = _useMergedState2[0],\n      setVisible = _useMergedState2[1];\n\n  var settingVisible = function settingVisible(value, e) {\n    var _a;\n\n    setVisible(value);\n    (_a = props.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, value, e);\n  };\n\n  var close = function close(e) {\n    settingVisible(false, e);\n  };\n\n  var onConfirm = function onConfirm(e) {\n    var _a;\n\n    return (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var onCancel = function onCancel(e) {\n    var _a;\n\n    settingVisible(false, e);\n    (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var _onKeyDown = function onKeyDown(e) {\n    if (e.keyCode === KeyCode.ESC && visible) {\n      settingVisible(false, e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(value) {\n    var disabled = props.disabled;\n\n    if (disabled) {\n      return;\n    }\n\n    settingVisible(value);\n  };\n\n  var renderOverlay = function renderOverlay(prefixCls, popconfirmLocale) {\n    var okButtonProps = props.okButtonProps,\n        cancelButtonProps = props.cancelButtonProps,\n        title = props.title,\n        cancelText = props.cancelText,\n        okText = props.okText,\n        okType = props.okType,\n        icon = props.icon;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, icon, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message-title\")\n    }, getRenderPropValue(title))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-buttons\")\n    }, /*#__PURE__*/React.createElement(Button, _extends({\n      onClick: onCancel,\n      size: \"small\"\n    }, cancelButtonProps), cancelText || popconfirmLocale.cancelText), /*#__PURE__*/React.createElement(ActionButton, {\n      buttonProps: _extends(_extends({\n        size: 'small'\n      }, convertLegacyProps(okType)), okButtonProps),\n      actionFn: onConfirm,\n      close: close,\n      prefixCls: getPrefixCls('btn'),\n      quitOnNullishReturnValue: true,\n      emitEvent: true\n    }, okText || popconfirmLocale.okText)));\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      placement = props.placement,\n      children = props.children,\n      overlayClassName = props.overlayClassName,\n      restProps = __rest(props, [\"prefixCls\", \"placement\", \"children\", \"overlayClassName\"]);\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  var prefixClsConfirm = getPrefixCls('popconfirm', customizePrefixCls);\n  var overlayClassNames = classNames(prefixClsConfirm, overlayClassName);\n  var overlay = /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Popconfirm\",\n    defaultLocale: defaultLocale.Popconfirm\n  }, function (popconfirmLocale) {\n    return renderOverlay(prefixCls, popconfirmLocale);\n  });\n  var rootPrefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, restProps, {\n    prefixCls: prefixCls,\n    placement: placement,\n    onVisibleChange: onVisibleChange,\n    visible: visible,\n    overlay: overlay,\n    overlayClassName: overlayClassNames,\n    ref: ref,\n    transitionName: getTransitionName(rootPrefixCls, 'zoom-big', props.transitionName)\n  }), cloneElement(children, {\n    onKeyDown: function onKeyDown(e) {\n      var _a, _b;\n\n      if ( /*#__PURE__*/React.isValidElement(children)) {\n        (_b = children === null || children === void 0 ? void 0 : (_a = children.props).onKeyDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n      }\n\n      _onKeyDown(e);\n    }\n  }));\n});\nPopconfirm.defaultProps = {\n  placement: 'top',\n  trigger: 'click',\n  okType: 'primary',\n  icon: /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n  disabled: false\n};\nexport default Popconfirm;","export var getRenderPropValue = function getRenderPropValue(propValue) {\n  if (!propValue) {\n    return null;\n  }\n\n  var isRenderFunction = typeof propValue === 'function';\n\n  if (isRenderFunction) {\n    return propValue();\n  }\n\n  return propValue;\n};"],"sourceRoot":""}