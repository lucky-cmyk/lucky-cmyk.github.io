(this.webpackJsonpstardust_web=this.webpackJsonpstardust_web||[]).push([[23],{1049:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(155);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}},1315:function(e,t,n){"use strict";n.r(t);var r=n(31),a=n(2),c=n.n(a),i=n(7),o=n(1049),u=n(72),s=n(0),l=n(103),d=n(413),f=n(418),b=(n(8),n(76)),j=n(538),p=n(36),O=n(75),m=n(10);t.default=function(e){var t=Object(s.useState)([]),n=Object(u.a)(t,2),a=n[0],v=n[1],h=Object(s.useState)(30),y=Object(u.a)(h,2),g=y[0],x=y[1],S=Object(p.c)((function(e){return e.appids})),w=Object(s.useState)({}),D=Object(u.a)(w,2),Y=D[0],T=(D[1],Object(s.useState)([])),I=Object(u.a)(T,2),k=I[0];I[1],Object(s.useEffect)((function(){!function(e){var t,n=Object(o.a)(S);try{for(n.s();!(t=n.n()).done;){var r=t.value;Y[r.appid]=r.appid,k.push({text:r.appid,value:r.appid})}}catch(a){n.e(a)}finally{n.f()}}()}),[]);var C=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.j)(t);case 2:n=e.sent,v(n.data),x(n.page.count);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=[Object(r.a)(Object(r.a)({title:"UID",dataIndex:"uid"},Object(j.a)("uid")),{},{render:function(e){return Object(m.jsx)(b.b,{to:"/user/userInfo?uid=".concat(e),children:e})}}),{title:"Appid",dataIndex:"appid",render:function(e){return Y[e]||0},filters:k},{title:"Time",dataIndex:"time",render:function(e){return f.a.unix(e).utc().utcOffset(330).format("YYYY-MM-DD HH:mm:ss")}},{title:"IP",dataIndex:"ip"},{title:"Version",dataIndex:"version"},{title:"Deviceid",dataIndex:"deviceid"},{title:"Sysversion",dataIndex:"sysversion",render:function(e){return{pc:"pc","5.1.1":"5.1.1"}[e]||"pc"},filters:[{text:"PC",value:"pc"},{text:"5.1",value:"5.1.1"}]},{title:"Devname",dataIndex:"devname"}];return Object(m.jsx)(l.a,{title:"\u7528\u6237\u767b\u5f55\u5217\u8868",children:Object(m.jsx)(d.a,{rangeSearch:{showTime:!0,rangeDays:30,rangeTime:[Object(f.a)().subtract(7,"day"),Object(f.a)()]},columns:H,fetchApi:C,data:a,total:g})})}},398:function(e,t,n){"use strict";var r=n(453),a=n.n(r),c=n(388),i=n.n(c),o=(n(454),i()(a.a));t.a=o},413:function(e,t,n){"use strict";n(394);var r=n(393),a=(n(395),n(396)),c=(n(369),n(370)),i=(n(133),n(58)),o=n(2),u=n.n(o),s=n(7),l=n(31),d=n(72),f=n(0),b=n(398),j=n(10),p=b.a.RangePicker;function O(e){var t=e.fetchApi,n=e.columns,o=e.forceUpdate,b=e.data,O=e.rangeSearch,m=e.components,v=e.current,h=e.total,y=e.pageSize,g=e.showTotal,x=e.rowSelection,S=e.scrollX,w=void 0!==S&&S,D=e.DividerShow,Y=void 0===D||D,T=e.rowKey,I=void 0===T?"id":T,k=O&&O.rangeTime?[O.rangeTime[0].format(O.layout||"YYYY-MM-DD HH:mm:ss"),O.rangeTime[1].format(O.layout||"YYYY-MM-DD HH:mm:ss")]:null,C=Object(f.useState)(!1),H=Object(d.a)(C,2),M=H[0],z=H[1],J=Object(f.useState)({current:1,pageSize:y||20,total:h||1e5,showTotal:g}),A=Object(d.a)(J,2),E=A[0],K=A[1],N=Object(f.useState)({}),P=Object(d.a)(N,2),U=P[0],F=P[1],R=Object(f.useState)([]),V=Object(d.a)(R,2),_=V[0],B=V[1],X=Object(f.useState)(k),q=Object(d.a)(X,2),G=q[0],L=q[1],Q=Object(f.useState)(!G),W=Object(d.a)(Q,2),Z=W[0],$=W[1],ee=Object(f.useState)(O?O.rangeTime||[]:null),te=Object(d.a)(ee,2),ne=te[0],re=te[1],ae=null===b||void 0===b?void 0:b.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:t+1})})),ce=function(){var e=Object(s.a)(u.a.mark((function e(n,r,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),c={page:n.current,pageSize:n.pageSize,filters:r},G&&(c.startTime=G[0],c.endTime=G[1]),a.length>0&&(c.sorter=a[0]),e.next=7,t(c);case 7:z(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),z(!1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){K(Object(l.a)(Object(l.a)({},E),{},{total:null!==h&&void 0!==h?h:1e4}))}),[h]),Object(f.useEffect)((function(){ce(E,U,_),v&&v(E)}),[U,o,_,y,E.current]);return Object(j.jsxs)(j.Fragment,{children:[O&&Object(j.jsxs)(c.b,{children:[Object(j.jsx)(p,{disabledDate:function(e){if(!ne||0===ne.length||!O||!O.rangeDays)return!1;var t=ne[0]&&e.diff(ne[0],"days")>=O.rangeDays;return ne[1]&&ne[1].diff(e,"days")>=O.rangeDays||t},defaultValue:O.rangeTime||null,format:O.layout||"YYYY-MM-DD HH:mm:ss",showTime:O.showTime||!1,onChange:function(e,t){L(t),$(!e)},onCalendarChange:function(e){return re(e)}}),Object(j.jsx)(i.a,{type:"primary",onClick:function(){return ce(E,U,_)},disabled:Z,children:"\u641c\u7d22"})]}),Y&&Object(j.jsx)(a.a,{dashed:!0}),Object(j.jsx)(r.a,{rowKey:I,rowSelection:x,components:m,scroll:{x:w},bordered:!0,loading:M,pagination:E,columns:n,dataSource:ae,onChange:function(e,t,n){console.log("handleTableChange:",e,t,n),K(e),F(t),n.order?B([{key:n.columnKey,order:"ascend"===n.order?"asc":"desc"}]):B([])}})]})}t.a=Object(f.memo)(O,(function(e,t){return JSON.stringify(e.data)===JSON.stringify(t.data)&&JSON.stringify(e.columns)===JSON.stringify(t.columns)&&e.forceUpdate==t.forceUpdate}))},418:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(135),a=n.n(r),c=n(442);a.a.extend(c);var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return a.a.unix(e).utc().utcOffset(330).format(t)};t.a=a.a},538:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(369);var r=n(370),a=(n(133),n(58)),c=(n(210),n(134)),i=n(167),o=(n(0),n(10)),u=function(e,t,n){t()},s=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,s=t.selectedKeys,l=t.confirm,d=t.clearFilters;return Object(o.jsxs)("div",{style:{padding:8},children:[Object(o.jsx)(c.a,{placeholder:"Search ".concat(e),value:s[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return u(0,l)},style:{width:188,marginBottom:8,display:"block"}}),Object(o.jsxs)(r.b,{children:[Object(o.jsx)(a.a,{type:"primary",onClick:function(){return u(0,l)},icon:Object(o.jsx)(i.a,{}),size:"small",style:{width:90},children:"Search"}),Object(o.jsx)(a.a,{onClick:function(){return d()},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(o.jsx)(i.a,{style:{color:e?"#1890ff":void 0}})}}}}}]);