(this.webpackJsonpstardust_web=this.webpackJsonpstardust_web||[]).push([[24],{1310:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n(4),c=n.n(r),i=n(7),o=(n(525),n(70)),s=n(0),u=n(102),l=n(415),d=n(395),f=n(8),b=n(74),j=n(495),m=n(35),O=n(10);t.default=function(e){var t=Object(s.useState)([]),n=Object(o.a)(t,2),r=n[0],p=n[1],h=Object(s.useState)(30),g=Object(o.a)(h,2),y=g[0],v=g[1],x=(Object(m.c)((function(e){return e.appids})),Object(s.useState)({})),S=Object(o.a)(x,2),w=S[0],Y=(S[1],Object(s.useState)([])),D=Object(o.a)(Y,2),T=D[0],I=(D[1],function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("/user/loginLogList",{params:t});case 2:(n=e.sent)&&0===n.code&&(v(0|n.data.total),p(n.data.listdata));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),k=[Object(a.a)(Object(a.a)({title:"UID",dataIndex:"uid"},Object(j.a)("uid")),{},{render:function(e){return Object(O.jsx)(b.b,{to:"/user/userInfo?uid=".concat(e),children:e})}}),{title:"Appid",dataIndex:"appid",render:function(e){return w[e]||0},filters:T},{title:"Time",dataIndex:"time",render:function(e){return d.a.unix(e).utc().utcOffset(330).format("YYYY-MM-DD HH:mm:ss")}},{title:"IP",dataIndex:"ip"},{title:"Version",dataIndex:"version"},{title:"Deviceid",dataIndex:"deviceid"},{title:"Sysversion",dataIndex:"sysversion",render:function(e){return{pc:"pc","5.1.1":"5.1.1"}[e]||"pc"},filters:[{text:"PC",value:"pc"},{text:"5.1",value:"5.1.1"}]},{title:"Devname",dataIndex:"devname"}];return Object(O.jsx)(u.a,{title:"\u7528\u6237\u767b\u5f55\u5217\u8868",children:Object(O.jsx)(l.a,{rangeSearch:{showTime:!0,rangeDays:30,rangeTime:[Object(d.a)().subtract(7,"day"),Object(d.a)()]},columns:k,fetchApi:I,data:r,total:y})})}},395:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(134),r=n.n(a),c=n(450);r.a.extend(c);var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return r.a.unix(e).utc().utcOffset(330).format(t)};t.a=r.a},406:function(e,t,n){"use strict";var a=n(496),r=n.n(a),c=n(401),i=n.n(c),o=(n(497),i()(r.a));t.a=o},415:function(e,t,n){"use strict";n(378);var a=n(377),r=(n(354),n(355)),c=(n(380),n(381)),i=(n(132),n(57)),o=n(4),s=n.n(o),u=n(7),l=n(31),d=n(70),f=n(0),b=n(406),j=n(10),m=b.a.RangePicker;function O(e){var t=e.fetchApi,n=e.columns,o=e.forceUpdate,b=e.data,O=e.rangeSearch,p=e.components,h=e.current,g=e.total,y=e.pageSize,v=e.showTotal,x=e.rowSelection,S=O&&O.rangeTime?[O.rangeTime[0].format(O.layout||"YYYY-MM-DD HH:mm:ss"),O.rangeTime[1].format(O.layout||"YYYY-MM-DD HH:mm:ss")]:null,w=Object(f.useState)(!1),Y=Object(d.a)(w,2),D=Y[0],T=Y[1],I=Object(f.useState)({current:1,pageSize:y||20,total:g||1e5,showTotal:v}),k=Object(d.a)(I,2),C=k[0],H=k[1],M=Object(f.useState)({}),z=Object(d.a)(M,2),J=z[0],A=z[1],E=Object(f.useState)([]),K=Object(d.a)(E,2),N=K[0],P=K[1],U=Object(f.useState)(S),F=Object(d.a)(U,2),L=F[0],R=F[1],V=Object(f.useState)(!L),_=Object(d.a)(V,2),q=_[0],B=_[1],G=Object(f.useState)(O?O.rangeTime||[]:null),Q=Object(d.a)(G,2),W=Q[0],X=Q[1],Z=b.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:t+1})})),$=function(){var e=Object(u.a)(s.a.mark((function e(n,a,r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),c={page:n.current,pageSize:n.pageSize,filters:a},L&&(c.startTime=L[0],c.endTime=L[1]),r.length>0&&(c.sorter=r[0]),console.log("rangeTime",L,c),e.next=7,t(c);case 7:T(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){H(Object(l.a)(Object(l.a)({},C),{},{total:g||1e4}))}),[g]),Object(f.useEffect)((function(){$(C,J,N),h&&h(C)}),[J,o,N,y,C.current]);return Object(j.jsxs)(j.Fragment,{children:[O&&Object(j.jsxs)(r.b,{children:[Object(j.jsx)(m,{disabledDate:function(e){if(!W||0===W.length||!O||!O.rangeDays)return!1;var t=W[0]&&e.diff(W[0],"days")>=O.rangeDays;return W[1]&&W[1].diff(e,"days")>=O.rangeDays||t},defaultValue:O.rangeTime||null,format:O.layout||"YYYY-MM-DD HH:mm:ss",showTime:O.showTime||!1,onChange:function(e,t){R(t),B(!e)},onCalendarChange:function(e){return X(e)}}),Object(j.jsx)(i.a,{type:"primary",onClick:function(){return $(C,J,N)},disabled:q,children:"Inquire"}),Object(j.jsx)(c.a,{dashed:!0})]}),Object(j.jsx)(a.a,{rowSelection:x,components:p,scroll:{x:!0},bordered:!0,loading:D,pagination:C,columns:n,dataSource:Z,onChange:function(e,t,n){console.log("handleTableChange:",e,t,n),H(e),A(t),n.order?P([{key:n.columnKey,order:"ascend"===n.order?"asc":"desc"}]):P([])}})]})}t.a=Object(f.memo)(O,(function(e,t){return JSON.stringify(e.data)===JSON.stringify(t.data)&&JSON.stringify(e.columns)===JSON.stringify(t.columns)&&e.forceUpdate==t.forceUpdate}))},495:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(354);var a=n(355),r=(n(132),n(57)),c=(n(207),n(133)),i=n(166),o=(n(0),n(10)),s=function(e,t,n){t(),n&&(console.log("handleSearch-dataIndex:",n),console.log("handleSearch-selectedKeys:",e))},u=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,u=t.selectedKeys,l=t.confirm,d=t.clearFilters;return Object(o.jsxs)("div",{style:{padding:8},children:[Object(o.jsx)(c.a,{placeholder:"Search ".concat(e),value:u[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return s(u,l,e)},style:{width:188,marginBottom:8,display:"block"}}),Object(o.jsxs)(a.b,{children:[Object(o.jsx)(r.a,{type:"primary",onClick:function(){return s(u,l,e)},icon:Object(o.jsx)(i.a,{}),size:"small",style:{width:90},children:"Search"}),Object(o.jsx)(r.a,{onClick:function(){return d()},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(o.jsx)(i.a,{style:{color:e?"#1890ff":void 0}})}}}},525:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(155);function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}}}]);
//# sourceMappingURL=24.c9e9f316.chunk.js.map