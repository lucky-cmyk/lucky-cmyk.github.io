(this.webpackJsonpstardust_web=this.webpackJsonpstardust_web||[]).push([[27],{1028:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return p}));var n=a(4),r=a.n(n),c=a(7),u=a(31),s=a(88),i=a(8),o=function(e){return s.a.get("/admin/game-manage/gets",Object(u.a)({},e))},d=function(e){return s.a.jpost("/admin/game-manage/create",Object(u.a)({},e))},l=function(e){return s.a.put("/admin/game-manage/update",Object(u.a)({},e))},p=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/users/".concat(t,"/games"),{params:a});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},1315:function(e,t,a){"use strict";a.r(t);a(380);var n=a(381),r=a(4),c=a.n(r),u=a(31),s=a(7),i=a(70),o=a(0),d=a(35),l=a(102),p=a(134),b=a.n(p),j=(a(378),a(377)),f=(a(132),a(57)),O=(a(443),a(1028)),m=a(10),h=function(e,t){Object(o.useImperativeHandle)(t,(function(){return{getData:function(e){q(e)}}}));var a=e.pageSize,n=void 0===a?5:a,r=e.total,d=void 0===r?20:r,l=(e.showTotal,e.handleUpdate),p=Object(o.useState)(!1),h=Object(i.a)(p,2),x=h[0],g=h[1],v=Object(o.useState)([]),w=Object(i.a)(v,2),k=w[0],_=w[1],y=Object(o.useState)({current:1,pageSize:n||20,total:d||1e5}),C=Object(i.a)(y,2),I=C[0],F=C[1],S=[{title:"ID",dataIndex:"id",key:"id"},{title:"appid",dataIndex:"appid",key:"appid"},{title:"\u6e38\u620f\u540d\u79f0",dataIndex:"game_name"},{title:"\u5305\u540d",dataIndex:"package_name",key:"appid"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",render:function(e){return b()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return 1===e?"\u53ef\u7528":"\u4e0d\u53ef\u7528"}},{title:"\u64cd\u4f5c",dataIndex:"operation",align:"center",render:function(e,t,a){return Object(m.jsx)("span",{children:Object(m.jsx)(f.a,{type:"link",onClick:function(){return l(t)},children:"\u7f16\u8f91"})})}}],q=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a,n=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.prev=1,g(!0),e.next=5,Object(O.b)(Object(u.a)({page:I.current,page_size:I.pageSize},t));case 5:a=e.sent,_(a.data),F(Object(u.a)(Object(u.a)({},I),{},{total:a.page.count})),g(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),g(!1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q();case 1:case"end":return e.stop()}}),e)}))),[I.current]);return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(j.a,{rowKey:"id",bordered:!0,loading:x,columns:S,dataSource:k,pagination:I,onChange:function(e){F(Object(u.a)({},e))}})})},x=Object(o.forwardRef)(h),g=(a(354),a(355)),v=(a(207),a(133)),w=(a(208),a(72)),k=function(e){var t=e.search_h,a=e.handleCreate,n=w.a.useForm(),r=Object(i.a)(n,1)[0];return Object(m.jsxs)(g.b,{children:[Object(m.jsx)(w.a,{form:r,name:"basic",initialValues:{remember:!0},layout:"inline",children:Object(m.jsx)(w.a.Item,{label:"\u6e38\u620f\u540d\u79f0",name:"search_name",children:Object(m.jsx)(v.a,{placeholder:"\u8bf7\u8f93\u5165\u6e38\u620f\u540d\u79f0\u8fdb\u884c\u67e5\u8be2"})})}),Object(m.jsx)(f.a,{onClick:function(){t(r.getFieldsValue())},children:"\u67e5\u8be2"}),Object(m.jsx)(f.a,{onClick:function(){r.resetFields(),t()},children:"\u91cd\u7f6e"}),Object(m.jsx)(f.a,{onClick:a,children:"\u65b0\u589e"})]})},_=(a(357),a(358)),y=(a(360),a(359)),C=(y.a.Option,v.a.TextArea,a(151),a(71)),I=(a(372),y.a.Option,v.a.TextArea,function(e){var t=e.onCancel,a=e.visible,n=e.onOk,r=w.a.useForm(),o=Object(i.a)(r,1)[0];return Object(m.jsx)(_.a,{title:"\u521b\u5efa\u6e38\u620f",visible:a,onCancel:function(){o.resetFields(),t()},onOk:function(){try{o.validateFields().then(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)(o.getFieldsValue());case 2:n(),C.b.success("\u521b\u5efa\u6210\u529f"),o.resetFields();case 5:case"end":return e.stop()}}),e)}))))}catch(e){console.log(e)}},children:Object(m.jsxs)(w.a,Object(u.a)(Object(u.a)({},{labelCol:{span:6},wrapperCol:{span:18}}),{},{form:o,name:"form_in_modal",hideRequiredMark:!0,children:[Object(m.jsx)(w.a.Item,{label:"appid",name:"appid",rules:[{required:!0,message:"\u8bf7\u8f93\u5165appid"}],children:Object(m.jsx)(v.a,{placeholder:"\u8bf7\u8f93\u5165appid"})}),Object(m.jsx)(w.a.Item,{label:"\u6e38\u620f\u540d",name:"game_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6e38\u620f\u540d"}],children:Object(m.jsx)(v.a,{placeholder:"\u8bf7\u8f93\u5165\u6e38\u620f\u540d"})}),Object(m.jsx)(w.a.Item,{label:"\u5305\u540d",name:"package_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5305\u540d"}],children:Object(m.jsx)(v.a,{placeholder:"\u8bf7\u8f93\u5165\u5305\u540d"})})]}))})}),F=Object(o.memo)(I),S=(a(392),a(393)),q=y.a.Option,D=(v.a.TextArea,function(e){var t=e.onCancel,a=e.visible,n=e.onOk,r=e.game_info,d=r.id,l=void 0===d?"":d,p=r.appid,b=void 0===p?"":p,j=r.game_name,f=void 0===j?"":j,h=r.package_name,x=void 0===h?"":h,g=r.status,k=void 0===g?"":g,I=w.a.useForm(),F=Object(i.a)(I,1)[0];return Object(o.useEffect)((function(){a&&F.setFieldsValue({appid:b,game_name:f,package_name:x,status:k})}),[a]),Object(m.jsx)(_.a,{title:"\u7f16\u8f91\u6e38\u620f",visible:a,onCancel:function(){F.resetFields(),t()},onOk:function(){try{F.validateFields().then(Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(Object(u.a)(Object(u.a)({},F.getFieldsValue()),{},{id:l}));case 2:n(),F.resetFields(),C.b.success("\u66f4\u65b0\u6210\u529f");case 5:case"end":return e.stop()}}),e)}))))}catch(e){console.log(e)}},children:Object(m.jsxs)(w.a,Object(u.a)(Object(u.a)({},{labelCol:{span:6},wrapperCol:{span:18}}),{},{form:F,name:"form_in_modal",hideRequiredMark:!0,children:[Object(m.jsx)(w.a.Item,{label:"appid",name:"appid",rules:[{required:!0,message:"\u8bf7\u8f93\u5165appid"}],children:Object(m.jsx)(S.a,{min:0,placeholder:"\u8bf7\u8f93\u5165appid"})}),Object(m.jsx)(w.a.Item,{label:"\u6e38\u620f\u540d",name:"game_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6e38\u620f\u540d"}],children:Object(m.jsx)(v.a,{placeholder:"\u8bf7\u8f93\u5165\u6e38\u620f\u540d"})}),Object(m.jsx)(w.a.Item,{label:"\u5305\u540d",name:"package_name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5305\u540d"}],children:Object(m.jsx)(v.a,{placeholder:"\u8bf7\u8f93\u5165\u5305\u540d"})}),Object(m.jsx)(w.a.Item,{label:"\u72b6\u6001",name:"status",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u72b6\u6001"}],children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)(q,{value:1,children:"\u53ef\u7528"}),Object(m.jsx)(q,{value:2,children:"\u4e0d\u53ef\u7528"})]})})]}))})}),V=Object(o.memo)(D);t.default=function(e){var t=Object(o.useRef)(),a=Object(o.useState)([]),r=Object(i.a)(a,2),c=(r[0],r[1],Object(o.useState)(!1)),u=Object(i.a)(c,2),s=(u[0],u[1],Object(o.useState)(!1)),p=Object(i.a)(s,2),b=(p[0],p[1],Object(o.useState)([])),j=Object(i.a)(b,2),f=(j[0],j[1],Object(o.useState)()),O=Object(i.a)(f,2),h=(O[0],O[1],Object(o.useState)(!1)),g=Object(i.a)(h,2),v=g[0],w=g[1],_=Object(o.useState)(!1),y=Object(i.a)(_,2),C=y[0],I=y[1],S=Object(o.useState)({id:"",appid:"",game_name:"",package_name:"",status:""}),q=Object(i.a)(S,2),D=q[0],z=q[1];return Object(d.c)((function(e){return e.appids})),Object(m.jsxs)(l.a,{title:e.route.title,children:[Object(m.jsx)(k,{search_h:function(e){t.current.getData(e)},handleCreate:function(){I(!0)}}),Object(m.jsx)(n.a,{dashed:!0}),Object(m.jsx)(x,{ref:t,handleUpdate:function(e){z(e),w(!0)}}),Object(m.jsx)(F,{visible:C,onCancel:function(){I(!1)},onOk:function(){I(!1),t.current.getData()}}),Object(m.jsx)(V,{game_info:D,visible:v,onCancel:function(){w(!1)},onOk:function(){w(!1),t.current.getData()}})]})}},372:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return d})),a.d(t,"g",(function(){return l})),a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return j}));var n=a(4),r=a.n(n),c=a(7),u=a(88),s=a(8),i=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/admin/user-web/create",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get("/admin/user-web/gets",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("/admin/user-web/update-password",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.put("/admin/user-web/update-block",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.put("/admin/user-web/update-role",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get("/admin/component/gets-by-user-name",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/users/".concat(t,"/accountLog"),{params:a});case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},443:function(e,t,a){"use strict";a(4),a(7),a(8)}}]);
//# sourceMappingURL=27.f2cb55ec.chunk.js.map