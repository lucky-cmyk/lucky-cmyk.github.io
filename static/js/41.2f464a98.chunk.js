(this.webpackJsonpruby_rummy_web=this.webpackJsonpruby_rummy_web||[]).push([[41],{1541:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(8),o=n(79),s=n(0),i=n.n(s),u=n(546),l=n(9),d=n(116),p=n(545),f=n(578),b=n(86);t.default=function(){var e=Object(s.useState)({data:[],total:0}),t=Object(o.a)(e,2),n=t[0],r=t[1],m=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("/user/getUserRank",{params:t});case 2:0===(n=e.sent).code&&r({total:n.data.total,data:n.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=[{title:"User ID",dataIndex:"uid",key:"uid",render:function(e){return i.a.createElement(b.b,{to:"/user/userInfo?uid=".concat(e)},e)}},{title:"User name",dataIndex:"uname"},{title:"\u6ce8\u518c\u65f6\u95f4",key:"reg_time",dataIndex:"reg_time",sorter:!0,render:function(e){return u.a.unix(e).utc().utcOffset(330).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u4f59\u989d",key:"balance",dataIndex:"balance",sorter:!0,render:function(e){return Object(f.a)(e)}},{title:"\u603b\u63d0\u73b0",key:"withdraw",dataIndex:"withdraw",sorter:!0,render:function(e){return Object(f.a)(e)}},{title:"\u603b\u5145\u503c",key:"recharge",dataIndex:"recharge",sorter:!0,render:function(e){return Object(f.a)(e)}},{title:"point\u603b\u5c40\u6570",key:"points",dataIndex:"points",sorter:!0},{title:"pool\u603b\u5c40\u6570",key:"pool",dataIndex:"pool",sorter:!0},{title:"10 card\u603b\u5c40\u6570",key:"ten",dataIndex:"ten",sorter:!0},{title:"\u533a\u95f4\u5145\u503c",key:"sec_recharge",dataIndex:"sec_recharge",sorter:!0,render:function(e){return Object(f.a)(e)}},{title:"\u533a\u95f4\u63d0\u73b0",key:"sec_withdraw",dataIndex:"sec_withdraw",sorter:!0,render:function(e){return Object(f.a)(e)}},{title:"point\u533a\u95f4\u5c40\u6570",key:"sec_points",sorter:!0,dataIndex:"sec_points"},{title:"point\u533a\u95f4\u80dc\u5c40",sorter:!0,key:"sec_points_victory",dataIndex:"sec_points_victory"},{title:"point\u533a\u95f4\u8d1f\u5c40",sorter:!0,key:"sec_points_defeat",dataIndex:"sec_points_defeat"},{title:"point\u533a\u95f4\u8d62\u94b1",sorter:!0,key:"sec_points_profit",dataIndex:"sec_points_profit",render:function(e){return Object(f.a)(e)}},{title:"point\u533a\u95f4\u8f93\u94b1",sorter:!0,key:"sec_points_loss",dataIndex:"sec_points_loss",render:function(e){return Object(f.a)(e)}},{title:"point\u533a\u95f4\u76c8\u4e8f",sorter:!0,key:"sec_points_profit_loss",dataIndex:"sec_points_profit_loss",render:function(e){return Object(f.a)(e)}},{title:"point\u533a\u95f4\u62bd\u6c34",sorter:!0,key:"sec_points_cut",dataIndex:"sec_points_cut",render:function(e){return Object(f.a)(e)}},{title:"pool\u533a\u95f4\u5c40\u6570",sorter:!0,key:"sec_pool",dataIndex:"sec_pool"},{title:"pool\u533a\u95f4\u80dc\u5c40",sorter:!0,key:"sec_pool_victory",dataIndex:"sec_pool_victory"},{title:"pool\u533a\u95f4\u8d1f\u5c40",sorter:!0,key:"sec_pool_defeat",dataIndex:"sec_pool_defeat"},{title:"pool\u533a\u95f4\u8d62\u94b1",sorter:!0,key:"sec_pool_profit",dataIndex:"sec_pool_profit",render:function(e){return Object(f.a)(e)}},{title:"pool\u533a\u95f4\u8f93\u94b1",sorter:!0,key:"sec_pool_loss",dataIndex:"sec_pool_loss",render:function(e){return Object(f.a)(e)}},{title:"pool\u533a\u95f4\u76c8\u4e8f",sorter:!0,key:"sec_pool_profit_loss",dataIndex:"sec_pool_profit_loss",render:function(e){return Object(f.a)(e)}},{title:"pool\u533a\u95f4\u62bd\u6c34",sorter:!0,key:"sec_pool_cut",dataIndex:"sec_pool_cut",render:function(e){return Object(f.a)(e)}},{title:"10 card\u533a\u95f4\u5c40\u6570",sorter:!0,key:"sec_ten",dataIndex:"sec_ten"},{title:"10 card\u533a\u95f4\u80dc\u5c40",sorter:!0,key:"sec_ten_victory",dataIndex:"sec_ten_victory"},{title:"10 card\u533a\u95f4\u8d1f\u5c40",sorter:!0,key:"sec_ten_defeat",dataIndex:"sec_ten_defeat"},{title:"10 card\u533a\u95f4\u8d62\u94b1",sorter:!0,key:"sec_ten_profit",dataIndex:"sec_ten_profit",render:function(e){return Object(f.a)(e)}},{title:"10 card\u533a\u95f4\u8f93\u94b1",sorter:!0,key:"sec_ten_loss",dataIndex:"sec_ten_loss",render:function(e){return Object(f.a)(e)}},{title:"10 card\u533a\u95f4\u76c8\u4e8f",sorter:!0,key:"sec_ten_profit_loss",dataIndex:"sec_ten_profit_loss",render:function(e){return Object(f.a)(e)}},{title:"10 card\u533a\u95f4\u62bd\u6c34",sorter:!0,key:"sec_ten_cut",dataIndex:"sec_ten_cut",render:function(e){return Object(f.a)(e)}},{title:"\u5176\u4ed6\u6536\u5165",key:"other",dataIndex:"other",render:function(e){return Object(f.a)(e)}}];return i.a.createElement(d.a,{title:"\u73a9\u5bb6\u6392\u884c\u699c"},i.a.createElement(p.a,{rangeSearch:{layout:"YYYY-MM-DD",rangeTime:[Object(u.a)(),Object(u.a)()],rangeDays:7},columns:y,fetchApi:m,data:n.data,total:n.total}))}},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n(3),c=n(7),o=n(0),s=n(6),i=n.n(s),u=n(56),l=n(54);function d(e){var t=e.className,n=e.direction,c=e.index,s=e.marginDirection,i=e.children,u=e.split,l=e.wrap,d=o.useContext(f),p=d.horizontalSize,b=d.verticalSize,m=d.latestIndex,y={};return"vertical"===n?c<m&&(y={marginBottom:p/(u?2:1)}):y=Object(r.a)(Object(r.a)({},c<m&&Object(a.a)({},s,p/(u?2:1))),l&&{paddingBottom:b}),null===i||void 0===i?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:y},i),c<m&&u&&o.createElement("span",{className:"".concat(t,"-split"),style:y},u))}var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},f=o.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),b={small:8,middle:16,large:24};t.b=function(e){var t,n=o.useContext(l.b),s=n.getPrefixCls,m=n.space,y=n.direction,O=e.size,_=void 0===O?(null===m||void 0===m?void 0:m.size)||"small":O,g=e.align,x=e.className,v=e.children,h=e.direction,j=void 0===h?"horizontal":h,k=e.prefixCls,I=e.split,w=e.style,S=e.wrap,E=void 0!==S&&S,Y=p(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),N=o.useMemo((function(){return(Array.isArray(_)?_:[_,_]).map((function(e){return function(e){return"string"===typeof e?b[e]:e||0}(e)}))}),[_]),D=Object(c.a)(N,2),C=D[0],z=D[1],K=Object(u.a)(v,{keepEmpty:!0});if(0===K.length)return null;var T=void 0===g&&"horizontal"===j?"center":g,P=s("space",k),A=i()(P,"".concat(P,"-").concat(j),(t={},Object(a.a)(t,"".concat(P,"-rtl"),"rtl"===y),Object(a.a)(t,"".concat(P,"-align-").concat(T),T),t),x),M="".concat(P,"-item"),R="rtl"===y?"marginLeft":"marginRight",H=0,B=K.map((function(e,t){return null!==e&&void 0!==e&&(H=t),o.createElement(d,{className:M,key:"".concat(M,"-").concat(t),direction:j,index:t,marginDirection:R,split:I,wrap:E},e)}));return o.createElement("div",Object(r.a)({className:A,style:Object(r.a)(Object(r.a)({},E&&{flexWrap:"wrap",marginBottom:-z}),w)},Y),o.createElement(f.Provider,{value:{horizontalSize:C,verticalSize:z,latestIndex:H}},B))}},530:function(e,t,n){"use strict";n(46),n(610)},533:function(e,t,n){"use strict";n(46),n(540)},534:function(e,t,n){"use strict";var r=n(2),a=n(3),c=n(0),o=n(6),s=n.n(o),i=n(54),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){return c.createElement(i.a,null,(function(t){var n,o=t.getPrefixCls,i=t.direction,l=e.prefixCls,d=e.type,p=void 0===d?"horizontal":d,f=e.orientation,b=void 0===f?"center":f,m=e.className,y=e.children,O=e.dashed,_=e.plain,g=u(e,["prefixCls","type","orientation","className","children","dashed","plain"]),x=o("divider",l),v=b.length>0?"-".concat(b):b,h=!!y,j=s()(x,"".concat(x,"-").concat(p),(n={},Object(a.a)(n,"".concat(x,"-with-text"),h),Object(a.a)(n,"".concat(x,"-with-text").concat(v),h),Object(a.a)(n,"".concat(x,"-dashed"),!!O),Object(a.a)(n,"".concat(x,"-plain"),!!_),Object(a.a)(n,"".concat(x,"-rtl"),"rtl"===i),n),m);return c.createElement("div",Object(r.a)({className:j},g,{role:"separator"}),y&&c.createElement("span",{className:"".concat(x,"-inner-text")},y))}))}},540:function(e,t,n){},545:function(e,t,n){"use strict";n(558);var r=n(557),a=(n(530),n(529)),c=(n(533),n(534)),o=(n(156),n(61)),s=n(4),i=n.n(s),u=n(8),l=n(62),d=n(79),p=n(0),f=n.n(p),b=n(306).a.RangePicker;t.a=Object(p.memo)((function(e){var t=e.fetchApi,n=e.columns,s=e.forceUpdate,m=e.data,y=e.rangeSearch,O=e.components,_=e.current,g=e.total,x=e.pageSize,v=e.showTotal,h=e.rowSelection,j=y&&y.rangeTime?[y.rangeTime[0].format(y.layout||"YYYY-MM-DD HH:mm:ss"),y.rangeTime[1].format(y.layout||"YYYY-MM-DD HH:mm:ss")]:null,k=Object(p.useState)(!1),I=Object(d.a)(k,2),w=I[0],S=I[1],E=Object(p.useState)({current:1,pageSize:x||20,total:g||1e5,showTotal:v}),Y=Object(d.a)(E,2),N=Y[0],D=Y[1],C=Object(p.useState)({}),z=Object(d.a)(C,2),K=z[0],T=z[1],P=Object(p.useState)([]),A=Object(d.a)(P,2),M=A[0],R=A[1],H=Object(p.useState)(j),B=Object(d.a)(H,2),J=B[0],U=B[1],F=Object(p.useState)(!J),G=Object(d.a)(F,2),L=G[0],V=G[1],W=Object(p.useState)(y?y.rangeTime||[]:null),q=Object(d.a)(W,2),Q=q[0],X=q[1],Z=m.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:t+1})})),$=function(){var e=Object(u.a)(i.a.mark((function e(n,r,a){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),c={page:n.current,pageSize:n.pageSize,filters:r},J&&(c.startTime=J[0],c.endTime=J[1]),a.length>0&&(c.sorter=a[0]),console.log("rangeTime",J,c),e.next=7,t(c);case 7:S(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){D(Object(l.a)(Object(l.a)({},N),{},{total:g||1e4}))}),[g]),Object(p.useEffect)((function(){$(N,K,M),_&&_(N)}),[K,s,M,x,N.current]),f.a.createElement(f.a.Fragment,null,y&&f.a.createElement(a.b,null,f.a.createElement(b,{disabledDate:function(e){if(!Q||0===Q.length||!y||!y.rangeDays)return!1;var t=Q[0]&&e.diff(Q[0],"days")>=y.rangeDays;return Q[1]&&Q[1].diff(e,"days")>=y.rangeDays||t},defaultValue:y.rangeTime||null,format:y.layout||"YYYY-MM-DD HH:mm:ss",showTime:y.showTime||!1,onChange:function(e,t){U(t),V(!e)},onCalendarChange:function(e){return X(e)}}),f.a.createElement(o.a,{type:"primary",onClick:function(){return $(N,K,M)},disabled:L},"Inquire"),f.a.createElement(c.a,{dashed:!0})),f.a.createElement(r.a,{rowSelection:h,components:O,scroll:{x:!0},bordered:!0,loading:w,pagination:N,columns:n,dataSource:Z,onChange:function(e,t,n){console.log("handleTableChange:",e,t,n),D(e),T(t),n.order?R([{key:n.columnKey,order:"ascend"===n.order?"asc":"desc"}]):R([])}}))}),(function(e,t){return JSON.stringify(e.data)===JSON.stringify(t.data)&&JSON.stringify(e.columns)===JSON.stringify(t.columns)&&e.forceUpdate==t.forceUpdate}))},546:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(81),a=n.n(r),c=n(559);a.a.extend(c);var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return a.a.unix(e).utc().utcOffset(330).format(t)};t.a=a.a},556:function(e,t){},563:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function e(t,n){var r,a=0,c=[],o=sessionStorage;for(r in o)0===r.indexOf("pic_")&&(c.push(r),a+=o.getItem(r).length);(a/1024).toFixed(2)>500&&c.length>0&&(sessionStorage.removeItem(c[0]),e(t,n)),sessionStorage.setItem("pic_"+t,n)},a=function(e){return sessionStorage.getItem("pic_"+e)}},578:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return m}));var r=n(4),a=n.n(r),c=n(8),o=n(609),s=n(580),i=(n(0),n(563)),u=n(47),l=u.a.getState().cdnUrl,d=u.a.getState().s3Enable,p=function(e){return e/100||0},f=function(e){return o.a[e]||""},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Number(100*e).toFixed(t);return n+="%"},m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("http"!==t.substr(0,4)){e.next=4;break}return e.abrupt("return",t);case 4:if(d){e.next=6;break}return e.abrupt("return",l+"/"+t);case 6:if(!(r=Object(i.b)(t))){e.next=9;break}return e.abrupt("return",r);case 9:return c=t,o=null,e.prev=11,e.next=14,Object(s.b)(c,n);case 14:o=e.sent,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(11),o=null,console.error("download failed ,"+e.t0);case 21:if(null!=o){e.next=23;break}return e.abrupt("return","");case 23:return u=t.substr(t.lastIndexOf(".")+1),p="data:image/"+u+";base64,"+y(o),Object(i.a)(t,p),e.abrupt("return",p);case 27:case"end":return e.stop()}}),e,null,[[11,17]])})));return function(t,n){return e.apply(this,arguments)}}();function y(e){var t=e.reduce((function(e,t){return e+String.fromCharCode(t)}),"");return btoa(t).replace(/.{76}(?=.)/g,"$&\n")}},580:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return j}));n(182);var r=n(80),a=n(4),c=n.n(a),o=n(8),s=n(9),i=n(81),u=n.n(i),l=n(620),d=n.n(l);var p=function(e){return d.a.MD5(e).toString()},f=n(47),b=n(563),m=n(559);u.a.extend(m);var y=n(622),O=(n(623),f.a.getState().s3Enable);function _(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/user/awssts",{params:t});case 2:return n=e.sent,r=n.data,a={region:r.region,accessKeyId:r.access_key_id,secretAccessKey:r.secret_access_key,session_token:r.session_token,bucket:r.bucket,appName:r.app_name,acl:r.acl},e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}y.config.update({region:"ap-southeast-1",accessKeyId:"ASIAS2REQI3OBOWXO6R2",secretAccessKey:"YKvObUARB+Ik4wcjmHYGn7M2PR/dV8RZ6/GoAIo8"});new y.S3;function x(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(c.a.mark((function e(t,n){var r,a,o,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:"",a=Object(b.b)("accessKeyId"),o=JSON.parse(a)){e.next=8;break}return e.next=6,_(n);case 6:o=e.sent,Object(b.a)("accessKeyId",JSON.stringify(o));case 8:return-1!==t.indexOf("poker")&&o.appName&&(t=o.appName+t),y.config.update({region:o.region,accessKeyId:o.accessKeyId,secretAccessKey:o.secretAccessKey}),y.config.credentials.sessionToken=o.session_token,e.abrupt("return",new Promise((function(e,n){var a={Bucket:o.bucket,Key:r+t};(new y.S3).getObject(a,(function(t,r){t&&n(t),r&&e(r.Body)}))})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){var a,o,s,i,l,d,f=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>3&&void 0!==f[3]?f[3]:"",e.next=3,_({appid:r});case 3:return o=e.sent,y.config.update({region:o.region,accessKeyId:o.accessKeyId,secretAccessKey:o.secretAccessKey}),s=n.lastIndexOf("."),i=n.substr(s),l=n.substr(0,s),d=o.appName+"/images/"+a+u.a.utc().unix()+p(l)+i,y.config.credentials.sessionToken=o.session_token,e.abrupt("return",new Promise((function(e,n){var r={Bucket:o.bucket,Key:d,Body:t,ACL:o.acl};(new y.S3).upload(r,null,(function(t,r){t?n(t):e(d)}))})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function j(e,t,n){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(c.a.mark((function e(t,n,a){var o,s,i=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.length>3&&void 0!==i[3]?i[3]:"",O){e.next=3;break}return e.abrupt("return","false");case 3:return s=null,e.prev=4,e.next=7,h(t,n,a,o);case 7:s=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0),r.b.error("upload failed");case 14:return e.prev=14,e.finish(14);case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,null,[[4,10,14,16]])})))).apply(this,arguments)}},609:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),t.a={1:"Points Rummy",2:"Pool Rummy",3:"Ten Cards"};var r=[{ttype:1,name:"Points Rummy"},{ttype:2,name:"Pool Rummy"},{ttype:3,name:"Ten Cards"}]},610:function(e,t,n){},621:function(e,t){}}]);