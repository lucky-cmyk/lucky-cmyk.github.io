(this.webpackJsonpruby_rummy_web=this.webpackJsonpruby_rummy_web||[]).push([[50],{1540:function(t,e,n){"use strict";n.r(e);var a=n(62),r=n(4),i=n.n(r),c=n(8),o=(n(616),n(79)),s=n(0),l=n.n(s),u=n(116),f=n(545),d=n(546),m=n(9),h=n(86),p=n(605),b=n(41);e.default=function(t){var e=Object(s.useState)([]),n=Object(o.a)(e,2),r=n[0],O=n[1],v=Object(s.useState)(30),g=Object(o.a)(v,2),y=g[0],j=g[1],S=(Object(b.c)((function(t){return t.appids})),Object(s.useState)({})),x=Object(o.a)(S,2),w=x[0],$=(x[1],Object(s.useState)([])),D=Object(o.a)($,2),E=D[0],T=(D[1],function(){var t=Object(c.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/user/loginLogList",{params:e});case 2:(n=t.sent)&&0===n.code&&(j(0|n.data.total),O(n.data.listdata));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),C=[Object(a.a)(Object(a.a)({title:"UID",dataIndex:"uid"},Object(p.a)("uid")),{},{render:function(t){return l.a.createElement(h.b,{to:"/user/userInfo?uid=".concat(t)},t)}}),{title:"Appid",dataIndex:"appid",render:function(t){return w[t]||0},filters:E},{title:"Time",dataIndex:"time",render:function(t){return d.a.unix(t).utc().utcOffset(330).format("YYYY-MM-DD HH:mm:ss")}},{title:"IP",dataIndex:"ip"},{title:"Version",dataIndex:"version"},{title:"Deviceid",dataIndex:"deviceid"},{title:"Sysversion",dataIndex:"sysversion",render:function(t){return{pc:"pc","5.1.1":"5.1.1"}[t]||"pc"},filters:[{text:"PC",value:"pc"},{text:"5.1",value:"5.1.1"}]},{title:"Devname",dataIndex:"devname"}];return l.a.createElement(u.a,{title:"\u7528\u6237\u767b\u5f55\u5217\u8868"},l.a.createElement(f.a,{rangeSearch:{showTime:!0,rangeDays:30,rangeTime:[Object(d.a)().subtract(7,"day"),Object(d.a)()]},columns:C,fetchApi:T,data:r,total:y}))}},529:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var a=n(2),r=n(3),i=n(7),c=n(0),o=n(6),s=n.n(o),l=n(56),u=n(54);function f(t){var e=t.className,n=t.direction,i=t.index,o=t.marginDirection,s=t.children,l=t.split,u=t.wrap,f=c.useContext(m),d=f.horizontalSize,h=f.verticalSize,p=f.latestIndex,b={};return"vertical"===n?i<p&&(b={marginBottom:d/(l?2:1)}):b=Object(a.a)(Object(a.a)({},i<p&&Object(r.a)({},o,d/(l?2:1))),u&&{paddingBottom:h}),null===s||void 0===s?null:c.createElement(c.Fragment,null,c.createElement("div",{className:e,style:b},s),i<p&&l&&c.createElement("span",{className:"".concat(e,"-split"),style:b},l))}var d=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]])}return n},m=c.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),h={small:8,middle:16,large:24};e.b=function(t){var e,n=c.useContext(u.b),o=n.getPrefixCls,p=n.space,b=n.direction,O=t.size,v=void 0===O?(null===p||void 0===p?void 0:p.size)||"small":O,g=t.align,y=t.className,j=t.children,S=t.direction,x=void 0===S?"horizontal":S,w=t.prefixCls,$=t.split,D=t.style,E=t.wrap,T=void 0!==E&&E,C=d(t,["size","align","className","children","direction","prefixCls","split","style","wrap"]),Y=c.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(t){return function(t){return"string"===typeof t?h[t]:t||0}(t)}))}),[v]),z=Object(i.a)(Y,2),I=z[0],M=z[1],H=Object(l.a)(j,{keepEmpty:!0});if(0===H.length)return null;var N=void 0===g&&"horizontal"===x?"center":g,U=o("space",w),k=s()(U,"".concat(U,"-").concat(x),(e={},Object(r.a)(e,"".concat(U,"-rtl"),"rtl"===b),Object(r.a)(e,"".concat(U,"-align-").concat(N),N),e),y),P="".concat(U,"-item"),A="rtl"===b?"marginLeft":"marginRight",J=0,L=H.map((function(t,e){return null!==t&&void 0!==t&&(J=e),c.createElement(f,{className:P,key:"".concat(P,"-").concat(e),direction:x,index:e,marginDirection:A,split:$,wrap:T},t)}));return c.createElement("div",Object(a.a)({className:k,style:Object(a.a)(Object(a.a)({},T&&{flexWrap:"wrap",marginBottom:-M}),D)},C),c.createElement(m.Provider,{value:{horizontalSize:I,verticalSize:M,latestIndex:J}},L))}},530:function(t,e,n){"use strict";n(46),n(610)},533:function(t,e,n){"use strict";n(46),n(540)},534:function(t,e,n){"use strict";var a=n(2),r=n(3),i=n(0),c=n(6),o=n.n(c),s=n(54),l=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]])}return n};e.a=function(t){return i.createElement(s.a,null,(function(e){var n,c=e.getPrefixCls,s=e.direction,u=t.prefixCls,f=t.type,d=void 0===f?"horizontal":f,m=t.orientation,h=void 0===m?"center":m,p=t.className,b=t.children,O=t.dashed,v=t.plain,g=l(t,["prefixCls","type","orientation","className","children","dashed","plain"]),y=c("divider",u),j=h.length>0?"-".concat(h):h,S=!!b,x=o()(y,"".concat(y,"-").concat(d),(n={},Object(r.a)(n,"".concat(y,"-with-text"),S),Object(r.a)(n,"".concat(y,"-with-text").concat(j),S),Object(r.a)(n,"".concat(y,"-dashed"),!!O),Object(r.a)(n,"".concat(y,"-plain"),!!v),Object(r.a)(n,"".concat(y,"-rtl"),"rtl"===s),n),p);return i.createElement("div",Object(a.a)({className:x},g,{role:"separator"}),b&&i.createElement("span",{className:"".concat(y,"-inner-text")},b))}))}},540:function(t,e,n){},545:function(t,e,n){"use strict";n(558);var a=n(557),r=(n(530),n(529)),i=(n(533),n(534)),c=(n(156),n(61)),o=n(4),s=n.n(o),l=n(8),u=n(62),f=n(79),d=n(0),m=n.n(d),h=n(306).a.RangePicker;e.a=Object(d.memo)((function(t){var e=t.fetchApi,n=t.columns,o=t.forceUpdate,p=t.data,b=t.rangeSearch,O=t.components,v=t.current,g=t.total,y=t.pageSize,j=t.showTotal,S=t.rowSelection,x=b&&b.rangeTime?[b.rangeTime[0].format(b.layout||"YYYY-MM-DD HH:mm:ss"),b.rangeTime[1].format(b.layout||"YYYY-MM-DD HH:mm:ss")]:null,w=Object(d.useState)(!1),$=Object(f.a)(w,2),D=$[0],E=$[1],T=Object(d.useState)({current:1,pageSize:y||20,total:g||1e5,showTotal:j}),C=Object(f.a)(T,2),Y=C[0],z=C[1],I=Object(d.useState)({}),M=Object(f.a)(I,2),H=M[0],N=M[1],U=Object(d.useState)([]),k=Object(f.a)(U,2),P=k[0],A=k[1],J=Object(d.useState)(x),L=Object(f.a)(J,2),B=L[0],F=L[1],K=Object(d.useState)(!B),_=Object(f.a)(K,2),R=_[0],V=_[1],W=Object(d.useState)(b?b.rangeTime||[]:null),q=Object(f.a)(W,2),Z=q[0],G=q[1],Q=p.map((function(t,e){return Object(u.a)(Object(u.a)({},t),{},{key:e+1})})),X=function(){var t=Object(l.a)(s.a.mark((function t(n,a,r){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E(!0),i={page:n.current,pageSize:n.pageSize,filters:a},B&&(i.startTime=B[0],i.endTime=B[1]),r.length>0&&(i.sorter=r[0]),console.log("rangeTime",B,i),t.next=7,e(i);case 7:E(!1);case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}();return Object(d.useEffect)((function(){z(Object(u.a)(Object(u.a)({},Y),{},{total:g||1e4}))}),[g]),Object(d.useEffect)((function(){X(Y,H,P),v&&v(Y)}),[H,o,P,y,Y.current]),m.a.createElement(m.a.Fragment,null,b&&m.a.createElement(r.b,null,m.a.createElement(h,{disabledDate:function(t){if(!Z||0===Z.length||!b||!b.rangeDays)return!1;var e=Z[0]&&t.diff(Z[0],"days")>=b.rangeDays;return Z[1]&&Z[1].diff(t,"days")>=b.rangeDays||e},defaultValue:b.rangeTime||null,format:b.layout||"YYYY-MM-DD HH:mm:ss",showTime:b.showTime||!1,onChange:function(t,e){F(e),V(!t)},onCalendarChange:function(t){return G(t)}}),m.a.createElement(c.a,{type:"primary",onClick:function(){return X(Y,H,P)},disabled:R},"Inquire"),m.a.createElement(i.a,{dashed:!0})),m.a.createElement(a.a,{rowSelection:S,components:O,scroll:{x:!0},bordered:!0,loading:D,pagination:Y,columns:n,dataSource:Q,onChange:function(t,e,n){console.log("handleTableChange:",t,e,n),z(t),N(e),n.order?A([{key:n.columnKey,order:"ascend"===n.order?"asc":"desc"}]):A([])}}))}),(function(t,e){return JSON.stringify(t.data)===JSON.stringify(e.data)&&JSON.stringify(t.columns)===JSON.stringify(e.columns)&&t.forceUpdate==e.forceUpdate}))},546:function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var a=n(81),r=n.n(a),i=n(559);r.a.extend(i);var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";return r.a.unix(t).utc().utcOffset(330).format(e)};e.a=r.a},559:function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){var a=e.prototype;n.utc=function(t){return new e({date:t,utc:!0,args:arguments})},a.utc=function(t){var e=n(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},a.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var r=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),r.call(this,t)};var i=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else i.call(this)};var c=a.utcOffset;a.utcOffset=function(t,e){var n=this.$utils().u;if(n(t))return this.$u?0:n(this.$offset)?c.call(this):this.$offset;var a=Math.abs(t)<=16?60*t:t,r=this;if(e)return r.$offset=a,r.$u=0===t,r;if(0!==t){var i=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(r=this.local().add(a+i,"minute")).$offset=a,r.$x.$localOffset=i}else r=this.utc();return r};var o=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var s=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():s.call(this)};var l=a.diff;a.diff=function(t,e,a){if(t&&this.$u===t.$u)return l.call(this,t,e,a);var r=this.local(),i=n(t).local();return l.call(r,i,e,a)}}}()},605:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(530);var a=n(529),r=(n(156),n(61)),i=(n(304),n(157)),c=n(138),o=n(0),s=n.n(o),l=function(t,e,n){e(),n&&(console.log("handleSearch-dataIndex:",n),console.log("handleSearch-selectedKeys:",t))},u=function(t){return{filterDropdown:function(e){var n=e.setSelectedKeys,o=e.selectedKeys,u=e.confirm,f=e.clearFilters;return s.a.createElement("div",{style:{padding:8}},s.a.createElement(i.a,{placeholder:"Search ".concat(t),value:o[0],onChange:function(t){return n(t.target.value?[t.target.value]:[])},onPressEnter:function(){return l(o,u,t)},style:{width:188,marginBottom:8,display:"block"}}),s.a.createElement(a.b,null,s.a.createElement(r.a,{type:"primary",onClick:function(){return l(o,u,t)},icon:s.a.createElement(c.a,null),size:"small",style:{width:90}},"Search"),s.a.createElement(r.a,{onClick:function(){return f()},size:"small",style:{width:90}},"Reset")))},filterIcon:function(t){return s.a.createElement(c.a,{style:{color:t?"#1890ff":void 0}})}}}},610:function(t,e,n){},616:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(184);function r(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(a.a)(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,c=!0,o=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){o=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(o)throw i}}}}}}]);