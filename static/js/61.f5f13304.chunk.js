(this.webpackJsonpruby_rummy_web=this.webpackJsonpruby_rummy_web||[]).push([[61],{1555:function(e,t,a){"use strict";a.r(t);a(558);var n=a(557),r=(a(533),a(534)),i=(a(530),a(529)),c=(a(1339),a(1345)),l=(a(544),a(543)),o=a(62),u=a(616),s=(a(182),a(80)),p=a(4),d=a.n(p),m=a(8),f=a(79),b=a(0),g=a.n(b),v=a(81),y=a.n(v),O=a(9),h=a(116),j=a(306),E=a(91),S=a.n(E),w=a(41),x=(a(625),j.a.RangePicker),z={13011:"\u5173\u952e\u6307\u6807",13012:"\u65b0\u7528\u6237\u4ed8\u8d39",13013:"\u7528\u6237\u6d3b\u8dc3",13014:"\u7528\u6237\u7559\u5b58",13015:"\u6e38\u620f\u5c40\u6570",13016:"point\u673a\u5668\u4eba\u5c40\u6570",13017:"pool\u673a\u5668\u4eba\u5c40\u6570",13018:"10card\u673a\u5668\u4eba\u5c40\u6570",13019:"\u7528\u6237\u4ed8\u8d39"};t.default=function(e){var t=[y()().subtract(15,"day"),y()()],a=[t[0].format("YYYY-MM-DD"),t[1].format("YYYY-MM-DD")],p=e.match,v=Object(b.useState)(0|p.params.id),j=Object(f.a)(v,2),E=j[0],C=j[1],k=Object(b.useState)(!1),Y=Object(f.a)(k,2),I=Y[0],P=Y[1],D=Object(b.useState)([]),N=Object(f.a)(D,2),M=N[0],_=N[1],A=Object(b.useState)([]),T=Object(f.a)(A,2),V=T[0],F=T[1],R=Object(b.useState)(a),B=Object(f.a)(R,2),J=B[0],L=B[1],W=Object(b.useState)(t),q=Object(f.a)(W,2),G=q[0],H=q[1],K=Object(b.useState)(),Q=Object(f.a)(K,2),U=Q[0],X=Q[1],Z=Object(w.c)((function(e){return e.appids})),$=Object(b.useState)(20),ee=Object(f.a)($,2),te=(ee[0],ee[1],Object(b.useState)({})),ae=Object(f.a)(te,2),ne=ae[0],re=ae[1],ie=Object(b.useState)({pagination:{current:1,pageSize:20,total:1e4},loading:!1}),ce=Object(f.a)(ie,2),le=ce[0],oe=ce[1],ue=function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,n,r,i,c,l,p,m,f=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},P(!0),e.next=4,O.a.get("/crux/statistics/"+E,{params:t,paramsSerializer:function(e){return S.a.stringify(e,{arrayFormat:"repeat"})}});case 4:if(a=e.sent,console.log(a),0===a.code){e.next=10;break}return s.b.error("select failed\uff01"),P(!1),e.abrupt("return");case 10:n=a.data,r=[],i=Object(u.a)(n.column);try{for(i.s();!(c=i.n()).done;)l=c.value,p={title:l.title,dataIndex:l.id,key:l.id},r.push(p)}catch(d){i.e(d)}finally{i.f()}_([].concat([{title:"Time",dataIndex:"date",key:"date"}],r)),m=n.data,oe(Object(o.a)(Object(o.a)({},le),{},{loading:!1,pagination:{current:t.page,pageSize:t.pageSize,total:n.total}})),F(m),P(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(d.a.mark((function e(t,a,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se(Object(o.a)(Object(o.a)({},ne),{},{startTime:J[0],endTime:J[1],appid:U,page:t.current,pageSize:t.pageSize}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){null!=U&&se(Object(o.a)(Object(o.a)({},ne),{},{startTime:J[0],endTime:J[1],appid:U,page:le.pagination.current,pageSize:le.pagination.pageSize}))}),[E,J,U,ne]),Object(b.useEffect)((function(){re({}),C(0|p.params.id)}),[p.params.id]);var de=[{value:"0",label:"\u5168\u90e8"},{value:"2",label:"2\u4eba"},{value:"6",label:"6\u4eba"}],me=[{value:"0",label:"\u5168\u90e8",children:de},{value:"101",label:"101 Pool",children:de},{value:"201",label:"201 Pool",children:de}];return g.a.createElement(h.a,{title:z[E]},g.a.createElement(i.b,null,g.a.createElement("div",{style:{padding:"10px 0"}},g.a.createElement(l.a,{defaultValue:"Choose a channel...",style:{width:300},onChange:function(e){return ue(e)},loading:Z.length<1},g.a.createElement(l.a.Option,{key:0,value:1},"\u5168\u90e8"),Z.map((function(e){return g.a.createElement(l.a.Option,{key:e.id,value:e.appid},e.appName)})))),"\u65e5\u671f\uff1a",g.a.createElement(x,{disabledDate:function(e){if(!G||0===G.length)return!1;var t=G[0]&&e.diff(G[0],"days")>=31;return G[1]&&G[1].diff(e,"days")>=31||t},defaultValue:t,format:"YYYY-MM-DD",onChange:function(e,t){return L(t)},onCalendarChange:function(e){return H(e)}}),[13016,13018].includes(0|E)&&g.a.createElement(g.a.Fragment,null,"\u7edf\u8ba1\u7c7b\u578b\uff1a",g.a.createElement(l.a,{defaultValue:ne.player||1,style:{width:150},onChange:function(e){return re({player:parseInt(e)})}},g.a.createElement(l.a.Option,{value:1},"\u5168\u90e8"),g.a.createElement(l.a.Option,{value:2},"2\u4eba"),g.a.createElement(l.a.Option,{value:3},"6\u4eba")),"\xa0\xa0\xa0\xa0"),[13013,13015].includes(0|E)&&g.a.createElement(g.a.Fragment,null,"\u7edf\u8ba1\u7c7b\u578b\uff1a",g.a.createElement(l.a,{defaultValue:ne.pool_type||1,style:{width:150},onChange:function(e){return re({pool_type:parseInt(e)})}},g.a.createElement(l.a.Option,{value:1},"\u6240\u6709"),g.a.createElement(l.a.Option,{value:2},"Points Rummy"),g.a.createElement(l.a.Option,{value:3},"Pool Rummy"),g.a.createElement(l.a.Option,{value:4},"10 Card")),"\xa0\xa0\xa0\xa0"),[13017].includes(0|E)&&g.a.createElement(g.a.Fragment,null,"\u7edf\u8ba1\u7c7b\u578b\uff1a",g.a.createElement(c.a,{defaultValue:["0","0"],options:me,onChange:function(e){!Array.isArray(e)||e.length<2||re({room_type:e})}}),"\xa0\xa0\xa0\xa0")),g.a.createElement(r.a,null),g.a.createElement(n.a,{bordered:!0,scroll:{x:!0},loading:I,pagination:le.pagination,onChange:pe,columns:M,dataSource:V}))}},529:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(2),r=a(3),i=a(7),c=a(0),l=a(6),o=a.n(l),u=a(56),s=a(54);function p(e){var t=e.className,a=e.direction,i=e.index,l=e.marginDirection,o=e.children,u=e.split,s=e.wrap,p=c.useContext(m),d=p.horizontalSize,f=p.verticalSize,b=p.latestIndex,g={};return"vertical"===a?i<b&&(g={marginBottom:d/(u?2:1)}):g=Object(n.a)(Object(n.a)({},i<b&&Object(r.a)({},l,d/(u?2:1))),s&&{paddingBottom:f}),null===o||void 0===o?null:c.createElement(c.Fragment,null,c.createElement("div",{className:t,style:g},o),i<b&&u&&c.createElement("span",{className:"".concat(t,"-split"),style:g},u))}var d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},m=c.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),f={small:8,middle:16,large:24};t.b=function(e){var t,a=c.useContext(s.b),l=a.getPrefixCls,b=a.space,g=a.direction,v=e.size,y=void 0===v?(null===b||void 0===b?void 0:b.size)||"small":v,O=e.align,h=e.className,j=e.children,E=e.direction,S=void 0===E?"horizontal":E,w=e.prefixCls,x=e.split,z=e.style,C=e.wrap,k=void 0!==C&&C,Y=d(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),I=c.useMemo((function(){return(Array.isArray(y)?y:[y,y]).map((function(e){return function(e){return"string"===typeof e?f[e]:e||0}(e)}))}),[y]),P=Object(i.a)(I,2),D=P[0],N=P[1],M=Object(u.a)(j,{keepEmpty:!0});if(0===M.length)return null;var _=void 0===O&&"horizontal"===S?"center":O,A=l("space",w),T=o()(A,"".concat(A,"-").concat(S),(t={},Object(r.a)(t,"".concat(A,"-rtl"),"rtl"===g),Object(r.a)(t,"".concat(A,"-align-").concat(_),_),t),h),V="".concat(A,"-item"),F="rtl"===g?"marginLeft":"marginRight",R=0,B=M.map((function(e,t){return null!==e&&void 0!==e&&(R=t),c.createElement(p,{className:V,key:"".concat(V,"-").concat(t),direction:S,index:t,marginDirection:F,split:x,wrap:k},e)}));return c.createElement("div",Object(n.a)({className:T,style:Object(n.a)(Object(n.a)({},k&&{flexWrap:"wrap",marginBottom:-N}),z)},Y),c.createElement(m.Provider,{value:{horizontalSize:D,verticalSize:N,latestIndex:R}},B))}},530:function(e,t,a){"use strict";a(46),a(610)},610:function(e,t,a){},616:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(184);function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,c=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}},625:function(e,t,a){"use strict";a(544);var n=a(543),r=a(0),i=a.n(r),c=a(41),l=n.a.Option;t.a=function(e){var t=e.handleChange,a=Object(c.c)((function(e){return e.appids}));return i.a.createElement("div",{style:{padding:"10px 0"}},i.a.createElement(n.a,{defaultValue:"Choose a channel...",style:{width:300},onChange:t,loading:a.length<1},a.map((function(e){return i.a.createElement(l,{key:e.id,value:e.appid},e.appName)}))))}}}]);