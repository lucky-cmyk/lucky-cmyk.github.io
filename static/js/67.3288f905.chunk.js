(this.webpackJsonpruby_rummy_web=this.webpackJsonpruby_rummy_web||[]).push([[67],{1190:function(e,t,n){"use strict";var a;function r(e){if("undefined"===typeof document)return 0;if(e||void 0===a){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var c=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;c===o&&(o=n.clientWidth),document.body.removeChild(n),a=c-o}return a}n.d(t,"a",(function(){return r}))},1667:function(e,t,n){"use strict";n.r(t);n(519);var a=n(518),r=(n(147),n(71)),c=n(194),o=n(72),i=n(606),l=n(3),u=n.n(l),d=n(9),s=n(84),f=n(0),p=n.n(f),v=n(111),m=n(614),b=(n(283),n(192)),h=(n(278),n(148)),y=(n(173),n(110)),g=(n(542),n(543)),E=n(245),k=n(243),_=n(261),O=n(87),j=g.a.confirm;var x=function(e){var t=e.index,n=e.data,c=e.handler,i=e.del,l=e.appid;return p.a.createElement(b.a,{size:"small",style:{marginTop:16},extra:p.a.createElement(a.b,null,p.a.createElement(r.a,{shape:"circle",icon:p.a.createElement(k.a,null),onClick:function(){j({title:"Sure to Delete the config?",icon:p.a.createElement(E.a,null),okText:"Confirm",okType:"danger",cancelText:"Cancel",onOk:function(){return Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=7;break}return e.next=3,Object(O.N)({id:n.id});case 3:0===(a=e.sent).code?i(t):y.b.error(a.err),e.next=8;break;case 7:i(t);case 8:case"end":return e.stop()}}),e)})))()}})}}),p.a.createElement(r.a,{shape:"circle",icon:p.a.createElement(_.a,null),onClick:function(){return function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.appid=l,n.ver_force=0|parseInt(n.ver_force),n.pre_distribute=0|parseInt(n.pre_distribute),!n.id){e.next=12;break}return t=Object(o.a)({},n),e.next=7,Object(O.V)(l,t);case 7:a=e.sent,console.log("\u4fee\u6539\u7ed3\u679c\uff1a",a),0!==a.code?y.b.error(a.err):n.id=a.data.id,e.next=16;break;case 12:return e.next=14,Object(O.y)(l,n);case 14:r=e.sent,console.log(r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j({title:"Sure to save and sync the config?",icon:p.a.createElement(E.a,null),okText:"Confirm",okType:"danger",cancelText:"Cancel",onOk:function(){return e.apply(this,arguments)}})}()}}))},p.a.createElement(a.b,{direction:"vertical"},p.a.createElement(a.b,{direction:"horizontal"},p.a.createElement(h.a,{addonBefore:"versioncode",value:n.versioncode,style:{width:200},onChange:function(e){return c(e,[t,"versioncode"],e.target.value)}}),p.a.createElement(h.a,{addonBefore:"ver_force",value:n.ver_force,placeholder:"1\u5f3a\u5236\uff0c\u5176\u4ed6\u975e\u5f3a\u5236",style:{width:200},onChange:function(e){return c(e,[t,"ver_force"],e.target.value)}}),p.a.createElement(h.a,{addonBefore:"pre_distribute",value:n.pre_distribute,placeholder:"1\u6b63\u5f0f;2\u9884\u53d1\u5e03",style:{width:200},onChange:function(e){return c(e,[t,"pre_distribute"],e.target.value)}}),p.a.createElement(h.a,{addonBefore:"apk_mode",value:n.apk_mode,placeholder:"Gp 1\u662f;2\u4e0d\u662f",style:{width:200},onChange:function(e){return c(e,[t,"apk_mode"],e.target.value)}})),p.a.createElement(h.a,{addonBefore:"ver",value:n.ver,style:{width:200},onChange:function(e){return c(e,[t,"ver"],e.target.value)}}),p.a.createElement(h.a,{addonBefore:"apk_url",value:n.apk_url,placeholder:"apk\u8df3\u8f6c\u5730\u5740",size:"large",onChange:function(e){return c(e,[t,"apk_url"],e.target.value)}}),p.a.createElement("div",null,"apk_desc:"),p.a.createElement(h.a.TextArea,{value:n.apk_desc,onChange:function(e){return c(e,[t,"apk_desc"],e.target.value)}}),p.a.createElement("div",null,"ver_desc:"),p.a.createElement(h.a.TextArea,{value:n.ver_desc,onChange:function(e){return c(e,[t,"ver_desc"],e.target.value)}}),p.a.createElement(h.a,{addonBefore:"ver_url",value:n.ver_url,size:"large",onChange:function(e){return c(e,[t,"ver_url"],e.target.value)}})))};t.default=function(e){var t={id:0,versioncode:"",forced:"",ver:"",stage:[],url:"",pkg_url:""},n=Object(f.useState)([]),l=Object(s.a)(n,2),b=l[0],h=l[1],y=Object(f.useState)(),g=Object(s.a)(y,2),E=g[0],k=g[1],_=Object(f.useState)(!0),j=Object(s.a)(_,2),C=j[0],w=j[1],T=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t){e.next=8;break}return w(!1),console.log("\u8bf7\u6c42\u66f4\u65b0\u6570\u636e\uff1a",t),e.next=5,Object(O.lb)({appid:t});case 5:n=e.sent,console.log("\u66f4\u65b0\u5217\u8868\uff1a",n.data),n.data?h(n.data):h([]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){T(E)}),[E]);var S=function(e){var t=b.slice(0);t.splice(parseInt(e),1),h(t)},B=function(e,t,n){e.persist&&e.persist();var a=Object(i.a)(b);a[t[0]]=Object(o.a)(Object(o.a)({},a[t[0]]),{},Object(c.a)({},t[1],n)),h(a)};return p.a.createElement(v.a,{title:"Clinet Hot update"},p.a.createElement(m.a,{handleChange:function(e){k(e)}}),p.a.createElement(a.b,{direction:"vertical"},b.map((function(e,t){return p.a.createElement(x,{key:t,index:t,data:e,appid:E,handler:B,del:S})})),p.a.createElement(r.a,{type:"primary",disabled:C,onClick:function(){h([].concat(Object(i.a)(b),[Object(o.a)({},t)]))}},"Add")))}},606:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(151);var r=n(175);function c(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},614:function(e,t,n){"use strict";n(533);var a=n(532),r=n(0),c=n.n(r),o=n(51),i=a.a.Option;t.a=function(e){var t=e.handleChange,n=Object(o.c)((function(e){return e.appids}));return c.a.createElement("div",{style:{padding:"10px 0"}},c.a.createElement(a.a,{defaultValue:"Choose a channel...",style:{width:300},onChange:t,loading:n.length<1},n.map((function(e){return c.a.createElement(i,{key:e.id,value:e.appid},e.appName)}))))}}}]);